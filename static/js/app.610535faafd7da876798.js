webpackJsonp([1],[function(e,t,n){"use strict";function i(){this.topics={},this.topicMap={modeChange:"modeChange",canvasResize:"canvasResize",canvasResizeEnd:"canvasResizeEnd",newShapeReady:"newShapeReady",endOfSequence:"endOfSequence",newSequenceSetCreated:"newSequenceSetCreated",newSequenceCreated:"newSequenceCreated",newActiveSequence:"newActiveSequence",newEditedSequence:"newEditedSequence",newActiveSequenceSet:"newActiveSequenceSet",newNoteTimesReady:"newNoteTimesReady",clearShape:"clearShape",newSurface:"newSurface",deletedColumn:"deletedColumn",soundsLoaded:"soundsLoaded"}}n.d(t,"a",function(){return s}),i.prototype.constructor=i,i.prototype.subscribe=function(e,t,n){this.topics[e]||(this.topics[e]=[]),this.topics[e].push({method:t,id:n})},i.prototype.publish=function(e,t,n){if(!this.topics[e])throw new Error("No "+e+" exists");this.topics.length<1||this.topics[e].forEach(function(e){void 0===n?e.method(t||{}):n===e.id&&e.method(t||{})})};var s=new i},,,,function(e,t,n){"use strict";function i(e){this.bpm=e.bpm,this.interval=60/this.bpm,this.currentBeat=1,this.context=this.initContext(),this.tuna=new p.a(this.context),this.impulse=void 0,this.buffers=[],this.filenames=e.filenames,this.defaultPlayProperties={audible:!0,pitch:{min:0,max:0}},this.validate(),this.playedDummySound=!1}n.d(t,"a",function(){return f});var s=n(20),o=n.n(s),r=n(66),a=n.n(r),c=n(34),u=n.n(c),h=(n(5),n(19)),d=n(117),p=n.n(d);i.prototype.constructor=i,i.prototype.initContext=function(){var e=window.AudioContext||window.webkitAudioContext||-1;return-1===e?e:new e},i.prototype.validate=function(){if(void 0===window.requestAnimationFrame)throw new Error("requestAnimationFrame is not supported in this browser");if(-1===this.context)throw new Error("Web audio is not supported in this browser")},i.prototype.loadTestSounds=function(){var e=this.filenames,t=this,n=this.buffers;e.map(function(e){var i="https://dl.dropboxusercontent.com/s/mt0s5oj4tx1lre2/"+e,s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType="arraybuffer",s.onload=function(){t.context.decodeAudioData(s.response,function(t){n.push({filename:e,buffer:t})})},s.send()})},i.prototype.loadImpulse=function(){var e=this;this.loadSound("impulse_rev.wav").then(function(t){e.impulse=t})},i.prototype.loadSound=function(e){var t=this;return new u.a(function(n,i){var s=new XMLHttpRequest,o="/sounds/"+e;s.open("GET",o),s.responseType="arraybuffer",s.onload=function(){t.context.decodeAudioData(s.response,function(e){n(e)})},s.onerror=function(e){i(e)},s.send()})},i.prototype.loadSounds=function(){var e=[],t=this.buffers,n=this.filenames,i=this;return n.map(function(t){e.push(i.loadSound(t))}),u.a.all(e).then(function(e){for(var i=0;i<e.length;i++)t.push({filename:n[i],buffer:e[i]})}).catch(function(e){console.log("An error occurred while loading sounds")})},i.prototype.getBufferByFilename=function(e){var t=this.buffers.filter(function(t){return t.filename===e});if(0===t.length)return-1;if(t.length>1)throw new Error("More than one buffer found for"+e);return t[0].buffer},i.prototype.getCurrentBeat=function(){var e=this.context.currentTime,t=this.interval;return Math.floor(e/t)},i.prototype.schedulePlay=function(e,t){var n=this.interval,i=this.getCurrentBeat(),s=t.noteLength,o=t.coordinates,r=void 0,c=void 0,u=void 0,h=[];switch(s){case"quarter":c=1;break;case"eighth":c=2;break;case"eighthTriplet":c=3;break;case"sixteenth":c=4;break;case"sixteenthTriplet":c=6;break;default:throw new Error("Unrecognized noteLength "+s)}r=i*n+n/2,u=n/c,this.currentBeat=i,t.sequence.sources=[];for(var d=0;d<c;d++){var p=r+n/c*d,l=a()(t,{when:p});this.play(e,l,o[d]),h.push(p)}return{noteTimes:h,noteDuration:u}},i.prototype.play=function(e,t,n){var i=this.context.createBufferSource(),s=this.getBufferByFilename(e),o=this.defaultPlayProperties,r=t.when||0;if(-1===s)throw new Error("Could not find "+e);if(t=a()({},o,t),t.sequence.sources.push(i),t.audible){var c=t.sequence.constraint.pitchMatrix,u=void 0,h=void 0;if("circle"!==t.identity)u=Math.floor((1-n.y)*(c.length-1)),h=n.x;else{var d=(t.radius[0].x+t.radius[0].y)/2,p=1,l=void 0;Math.random()>.5&&(p=-1),l=n.y+Math.random()*d*p,l>1&&(l=1),l<0&&(l=0),u=Math.floor((1-l)*(c.length-1)),h=1-l}var f=c[u],v=12*f[0]+f[1],g=t.sequence.bitcrusher||new this.tuna.Bitcrusher({bits:8,normfreq:h,bufferSize:4096});g.normfreq=.1*h+.1;var m=t.sequence.convolver||new this.tuna.PingPongDelay({wetLevel:.5,feedback:0,delayTimeLeft:200,delayTimeRight:350});m.wetLevel=h,t.sequence.bitcrusher=g,t.sequence.convolver=m,i.playbackRate.value=Math.pow(2,v/12),i.buffer=s,i.connect(g),g.connect(m),m.connect(this.context.destination),i.start(r)}},i.prototype.playDummySound=function(){if(!this.playedDummySound){var e=this.context.createBuffer(1,22050,44100),t=this.context.createBufferSource();t.buffer=e,t.connect(this.context.destination),t.start(0),this.playedDummySound=!0}};var l=o()(h.a),f=new i({bpm:85,filenames:l})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={};i.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},i.unique=function(e){for(var t=[e[0]],n=1;n<e.length;n++)this.contains(t,e[n])||t.push(e[n]);return t},i.resample=function(e,t){if(e.length<=t)return e;for(var n=Math.ceil(e.length/t),i=[],s=0;s<e.length;)i.push(e[s]),s+=n;return i},i.findMin=function(e){for(var t=-1,n=1/0,i=0;i<e.length;i++)e[i]<n&&(t=i,n=e[i]);return t},i.findMax=function(e){for(var t=-1,n=-1/0,i=0;i<e.length;i++)e[i]>n&&(t=i,n=e[i]);return t},i.sum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},i.mean=function(e){return this.sum(e)/e.length},i.combs=function(e,t){function n(e,t,i,s,o){if(s.length>=t)o.push(s);else{var r;for(r=i;r<e.length;++r)n(e,t,r+1,s.concat(e[r]),o)}}var i=[];return function(e,t,i){n(e,t,0,[],i)}(e,t,i),i},i.logicalKeep=function(e,t){for(var n=[],i=0;i<e.length;i++)t[i]&&n.push(e[i]);return n},i.randId=function(e){var t=Math.random().toString(36).substring(7);return null==e?t:e+t},i.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}},,,,,,,function(e,t,n){"use strict";function i(e){this.points=[],this.pointsSansAnchor=[],this.anchorPoint=void 0,this.firstPoint=void 0,this.hull=void 0,this.area=void 0,this.signedArea=void 0,this.perimeter=void 0,this.centroid=void 0,this.perimeterEfficiency=void 0,this.hullAreaRatio=0,this.hullNRatio=0,void 0!==e&&this.addPoints(e)}function s(e,t,n){this.x=e,this.y=t,this.index=n}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n(5);i.prototype.constructor=i,i.prototype.addPoints=function(e){for(var t=0;t<e.length;t++)this.addPoint(e[t].x,e[t].y,t)},i.prototype.addPointsWithIndex=function(e){for(var t=0;t<e.length;t++)this.addPoint(e[t].x,e[t].y,e[t].index)},i.prototype.addPoint=function(e,t,n){var i=this.anchorPoint,o=new s(e,t,n);if(void 0===i)return this.anchorPoint=o,this.firstPoint=o,void this.points.push(o);i.y>t&&i.x>e||i.y===t&&i.x>e||i.y>t&&i.x===e?(this.pointsSansAnchor.push(i),this.anchorPoint=o):this.pointsSansAnchor.push(o),this.points.push(o),this.firstPoint.index>o.index&&(this.firstPoint=o)},i.prototype.pushFirstPoint=function(){this.points.push(this.points[0])},i.prototype.removeLastPoint=function(){this.points.splice(this.points.length-1,1)},i.prototype.copyPoints=function(e){return e.map(function(e){return new s(e.x,e.y,e.index)})},i.prototype.copyPoint=function(e){return new s(e.x,e.y,e.index)},i.prototype.repPoint=function(e,t){for(var n=[],i=0;i<t;i++)n.push(e);return n},i.prototype.arrayAdd=function(e,t){for(var n=0;n<e.length;n++)e[n].plus(t)},i.prototype.arrayMinus=function(e,t){for(var n=0;n<e.length;n++)e[n].minus(t)},i.prototype.arrayTimes=function(e,t){for(var n=0;n<e.length;n++)e[n].times(t)},i.prototype.arrayDivide=function(e,t){for(var n=0;n<e.length;n++)e[n].divide(t)},i.prototype._sortPointsByPolarAngle=function(){var e=this;return this.pointsSansAnchor.sort(function(t,n){var i=e._findPolarAngle(e.anchorPoint,t),s=e._findPolarAngle(e.anchorPoint,n);return i<s?-1:i>s?1:0})},i.prototype._findPolarAngle=function(e,t){var n,i;if(!e||!t)return 0;if(n=t.x-e.x,i=t.y-e.y,0==n&&0==i)return 0;var s=57.295779513082*Math.atan2(i,n);return this.reverse?s<=0&&(s+=360):s>=0&&(s+=360),s},i.prototype._ccw=function(e,t,n){var i=this._findPolarAngle(e,t),s=this._findPolarAngle(e,n);return i>s?!(i-s>180):!(i<s)||s-i>180},i.prototype.getHull=function(){var e,t,n=[];if(this.reverse=this.pointsSansAnchor.every(function(e){return e.x<0&&e.y<0}),e=this._sortPointsByPolarAngle(),(t=e.length)<3)return e.unshift(this.anchorPoint),e;for(n.push(e.shift(),e.shift());;){var i,s,o;if(n.push(e.shift()),i=n[n.length-3],s=n[n.length-2],o=n[n.length-1],this._ccw(i,s,o)&&n.splice(n.length-2,1),0==e.length){if(t==n.length){var r=this.anchorPoint;return n=n.filter(function(e){return!!e}),n.some(function(e){return e.x==r.x&&e.y==r.y})||n.unshift(this.anchorPoint),n}e=n,t=e.length,n=[],n.push(e.shift(),e.shift())}}},i.prototype.updateMost=function(){this.updatePerimeter(),this.updateArea(),this.updatePerimeterEfficiency(),this.updateCentroid()},i.prototype.updateAll=function(){this.updateMost(),this.updateHull(),this.updateHullAreaRatio(),this.updateHullNRatio()},i.prototype.updateAllExceptHull=function(){this.updateMost()},i.prototype.updateHull=function(){var e=this.getHull(),t=new i;t.addPointsWithIndex(e),t.updateAllExceptHull(),t.hull=t,this.hull=t},i.prototype.updateCentroid=function(){void 0===this.area&&this.updateArea(),this.pushFirstPoint(),this.centroid=this.getCentroid(this.points,this.signedArea),this.removeLastPoint()},i.prototype.updatePerimeter=function(){this.pushFirstPoint(),this.perimeter=this.getPerimeter(this.points),this.removeLastPoint()},i.prototype.updateArea=function(){this.pushFirstPoint();var e=this.getArea(this.points);this.area=Math.abs(e),this.signedArea=e,this.removeLastPoint()},i.prototype.updatePerimeterEfficiency=function(){void 0!==this.area&&void 0!==this.perimeter||(this.updateArea(),this.updatePerimeter());var e=this.area,t=this.perimeter;this.perimeterEfficiency=this.getPerimeterEfficiency(e,t)},i.prototype.updateHullAreaRatio=function(){void 0!==this.area&&void 0!==this.hull&&(this.hullAreaRatio=this.hull.area/this.area)},i.prototype.updateHullNRatio=function(){void 0!==this.hull&&(this.hullNRatio=this.hull.points.length/this.points.length)},i.prototype.getPerimeter=function(e){for(var t,n,i,s,o=0,r=1;r<e.length;r++){t=e[r-1].x,n=e[r].x,i=e[r-1].y,s=e[r].y;var a=Math.pow(n-t,2),c=Math.pow(s-i,2);o+=Math.sqrt(a+c)}return o},i.prototype.getArea=function(e){for(var t,n,i,s,o=0,r=0;r<e.length-1;r++)t=e[r].x,i=e[r+1].x,n=e[r].y,s=e[r+1].y,o+=t*s-n*i;return o/2},i.prototype.getPerimeterEfficiency=function(e,t){return 2*Math.sqrt(Math.PI*e)/t},i.prototype.getCentroid=function(e,t){void 0===t&&(t=getArea(e));for(var n=e.map(function(e){return e.x}),i=e.map(function(e){return e.y}),o=0,r=0,a=0;a<n.length-1;a++){var c=n[a],u=n[a+1],h=i[a],d=i[a+1],p=c*d-u*h;o+=(c+u)*p,r+=(h+d)*p}return o/=6*t,r/=6*t,new s(o,r,0)},i.prototype.getDistances=function(e,t){for(var n=[],i=0;i<t.length;i++)n.push(this.getDistance(e,t[i]));return n},i.prototype.getDistance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},i.prototype.getPerpendicularDistance=function(e,t,n){function i(e){return e*e}function s(e,t){return i(e.x-t.x)+i(e.y-t.y)}return Math.sqrt(function(e,t,n){var i=s(t,n);if(0==i)return s(e,t);var o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return o=Math.max(0,Math.min(1,o)),s(e,{x:t.x+o*(n.x-t.x),y:t.y+o*(n.y-t.y)})}(e,t,n))},i.prototype.getConsecutiveDistances=function(e){for(var t,n,i=[],s=0;s<e.length-1;s++)t=e[s],n=e[s+1],i.push(this.getDistance(t,n));return i},i.prototype.getSlope=function(e,t){return(t.y-e.y)/(t.x-e.x)},i.prototype.getLineEquationY=function(e,t){var n=this.getSlope(e,t),i=t.y-n*t.x;return function(e){return n*e+i}},i.prototype.getLineEquationX=function(e,t){var n=this.getSlope(e,t),i=t.y-n*t.x;return function(e){return(e-i)/n}},i.prototype.getXAlongLineAtY=function(e,t,n){return this.getLineEquationX(t,n)(e)},i.prototype.getYAlongLineAtX=function(e,t,n){return this.getLineEquationY(t,n)(e)},i.prototype.getAngle=function(e,t,n){var i=this.getDistance(e,t),s=this.getDistance(e,n),o=this.getDistance(t,n),r=Math.pow(i,2),a=Math.pow(s,2),c=Math.pow(o,2);return Math.acos((r+a-c)/(2*i*s))},i.prototype.isNearVertex=function(e,t,n){return this.getDistance(e,t)<=n},i.prototype.isNearVertices=function(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push(this.isNearVertex(e[s],t,n));return i},i.prototype.doesIntersect=function(e,t,n,i){var s=this.getSlope(t,n),o=t.y-s*t.x,r=s*e.x+o;return Math.abs(r-e.y)<=i},s.prototype.constructor=s,s.prototype.copy=function(){return new s(this.x,this.y,this.index)},s.prototype.minus=function(e){e instanceof s?(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=e)},s.prototype.plus=function(e){e instanceof s?(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=e)},s.prototype.times=function(e){e instanceof s?(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=e)},s.prototype.divide=function(e){e instanceof s?(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=e)}},,,,,,,function(e,t,n){"use strict";var i=n(20),s=n.n(i),o={"piano_g.mp3":{color:[255,0,255]},"celeste_g.mp3":{color:[66,244,134]},"808_hi.mp3":{color:[0,255,255]},"perc_kick.mp3":{color:[255,165,0]}};s()(o).map(function(e){var t=o[e].color,n="rgb("+t.join(",")+")";o[e].rgbString=n}),t.a=o},,,,,,,,,,,,function(e,t,n){"use strict";function i(e){var t=e.semitones;return e.octaves.reduce(function(e,n){for(var i=0;i<t.length;i++)e.push([n,t[i]]);return e},[])}n.d(t,"a",function(){return s});var s=function(){for(var e=[],t=1;t<13;t++)e.push(t);return[{name:"minor1",semitones:[2,5,10],octaves:[-2,-1,0,1,2],style:"random",color:"red",rgb:[255,255,200]},{name:"minor2",semitones:[3,7],octaves:[-2,-1,0,1,2],style:"random",color:"green",rgb:[255,200,255]},{name:"minor3",semitones:[3,5,7,9,10],octaves:[-2,-1,0,1,2],style:"random",color:"blue",rgb:[255,200,255]},{name:"full",semitones:e,octaves:[-2,-1,0,1,2],style:"random",color:"black",rgb:[255,40,255]}].map(function(e){return e.pitchMatrix=i(e),e})}},function(e,t,n){"use strict";function i(e,t){this.vertices=e,this.points=e.points,this.identity=t,this.canvas=void 0,this.previousCanvasWidth=void 0,this.previousCanvasHeight=void 0,this.getCenter()}function s(e){var t=e.points.length-1;this.vertices=e,this.points=[e.points[0],e.points[t]],this.identity="line",this.getCenter()}function o(e,t,n){this.vertices=e,this.center=t,this.radius=n,this.points=[t],this.identity="circle"}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return o});var r=n(67),a=n.n(r),c=n(5),u=n(12);i.prototype.constructor=i,i.prototype.getRescaledVertices=function(e,t,n,i){if(e!==n||t!==i){var s=this.vertices,o=new u.a(e,t,0),r=new u.a(n/e,i/t,0),a=void 0,c=void 0;return a=this.points.length>1?s.copyPoint(this.center):this.points[0],a.divide(o),a.times(new u.a(n,i,0)),this.points.length>1?(c=s.copyPoints(this.points),s.arrayMinus(c,this.center),s.arrayTimes(c,r),s.arrayAdd(c,a)):c=[a],new u.b(c)}},i.prototype.rescale=function(e,t,n,i){var s=this.getRescaledVertices(e,t,n,i);this.vertices=s,this.points=s.points,this.update()},i.prototype.update=function(){this.vertices.updateAllExceptHull(),this.getCenter()},i.prototype.getCenter=function(){this.center=this.vertices.centroid},i.prototype.centerOn=function(e){e.minus(this.center),this.vertices.arrayAdd(this.points,e),this.update()},i.prototype.isNearVertices=function(e,t){return this.vertices.isNearVertices(this.points,e,t)},i.prototype.getVerticesNear=function(e,t){var n=this.isNearVertices(e,t);return c.a.logicalKeep(this.points,n)},i.prototype.isNearCenter=function(e,t){return this.vertices.isNearVertices([this.center],e,t)[0]},i.prototype.drawLine=function(e,t){void 0===t&&(t=!0);var n=e.getContext("2d"),i=this.vertices.copyPoints(this.points);i.push(i[0]),t&&n.clearRect(0,0,e.width,e.height);for(var s=0;s<i.length-1;s++)n.beginPath(),n.moveTo(i[s].x,i[s].y),n.lineTo(i[s+1].x,i[s+1].y),n.strokeStyle="gray",n.lineWidth=5,n.stroke()},i.prototype.drawDots=function(e,t,n){void 0===n&&(n=!0);var i=e.getContext("2d"),s=this.vertices.copyPoints(this.points);s.push(this.center),n&&i.clearRect(0,0,e.width,e.height);for(var o=(e.width,e.height,0);o<s.length;o++){var r=s[o].x,a=s[o].y,c=t/2;i.beginPath(),i.arc(r,a,c,0,2*Math.PI),i.closePath(),i.fillStyle="gray",i.fill()}},s.prototype=a()(i.prototype),s.prototype.constructor=s,s.prototype.getCenter=function(){var e=this.points,t=this.vertices,n=(e[1].x-e[0].x)/2+e[0].x,i=t.getYAlongLineAtX(n,e[0],e[1]);this.center=new u.a(n,i,0)},s.prototype.rescale=function(e,t,n,i){var s=this.getRescaledVertices(e,t,n,i),o=s.points.length-1;this.vertices=s,this.points=[s.points[0],s.points[o]],this.update()},o.prototype=a()(i.prototype),o.prototype.constructor=o,o.prototype.rescale=function(e,t,n,i){if(e!==n||t!==i){var s=(this.vertices,new u.a(e,t,0)),o=(new u.a(n/e,i/t,0),this.center),r=(n/e+i/t)/2;o.divide(s),o.times(new u.a(n,i,0)),this.radius*=r}},o.prototype.update=function(){this.vertices.updateAllExceptHull()},o.prototype.drawLine=function(e,t){void 0===t&&(t=!0);var n=e.getContext("2d"),i=this.points[0],s=this.radius;t&&n.clearRect(0,0,e.width,e.height),n.beginPath(),n.arc(i.x,i.y,s,0,2*Math.PI),n.strokeStyle="gray",n.lineWidth=5,n.stroke()}},function(e,t,n){"use strict";function i(){this.shapes=[],this.subscribe(),this.editedSequenceId=void 0,this.activeSequenceIds=[],this.activeSequenceSetId=void 0,this.mode=void 0,this.canvas=void 0,this.arrangementCanvases=[]}n.d(t,"a",function(){return o});var s=n(0);i.prototype.constructor=i,i.prototype.subscribe=function(){var e=s.a.topicMap.newShapeReady,t=s.a.topicMap.newSequenceSetCreated,n=s.a.topicMap.newSequenceCreated,i=s.a.topicMap.newActiveSequence,o=s.a.topicMap.newActiveSequenceSet,r=s.a.topicMap.modeChange,a=s.a.topicMap.canvasResize,c=s.a.topicMap.clearShape,u=s.a.topicMap.newSurface;s.a.subscribe(t,this.registerSequenceSet.bind(this)),s.a.subscribe(n,this.registerSequence.bind(this)),s.a.subscribe(e,this.registerShape.bind(this)),s.a.subscribe(i,this.updateActiveSequence.bind(this)),s.a.subscribe(o,this.updateActiveSequenceSet.bind(this)),s.a.subscribe(r,this.updateMode.bind(this)),s.a.subscribe(a,this.updateShapeSizes.bind(this)),s.a.subscribe(c,this.clearShape.bind(this)),s.a.subscribe(u,this.handleNewSurface.bind(this))},i.prototype.handleNewSurface=function(e){var t=e.element,n=e.values;if("INSTRUMENT"===n.type)return void(this.canvas=t);var i=this.getIndexOfSurface(n.index,n.sequenceSetId),s={index:n.index,sequenceSetId:n.sequenceSetId,canvas:t};-1===i?this.arrangementCanvases.push(s):this.arrangementCanvases[i].canvas=t},i.prototype.updateMode=function(e){this.mode=e},i.prototype.clearShape=function(e){var t=s.a.topicMap.newShapeReady,n=this.editedSequenceId,i=this.activeSequenceSetId;s.a.publish(t,{shape:void 0,sequenceId:n,sequenceSetId:i})},i.prototype.updateEditedSequence=function(){var e=this.findActiveSequenceIdBySequenceSetId(this.activeSequenceSetId);this.editedSequenceId=this.activeSequenceIds[e].sequenceId},i.prototype.updateActiveSequence=function(e){var t=e.sequenceSetId,n=e.sequenceId,i=this.findActiveSequenceIdBySequenceSetId(t);this.activeSequenceIds[i].sequenceId=n,this.updateEditedSequence()},i.prototype.updateActiveSequenceSet=function(e){this.activeSequenceSetId=e.sequenceSetId,this.updateEditedSequence()},i.prototype.registerSequenceSet=function(e){this.activeSequenceIds.push({sequenceSetId:e.sequenceSetId,sequenceId:void 0})},i.prototype.registerSequence=function(e){e.shape=void 0,this.registerShape(e)},i.prototype.registerShape=function(e){var t=e.shape,n=e.sequenceId,i=e.sequenceSetId;if(this.isShapeWithSequenceId(n)){var s=this.findShapeBySequenceId(n);this.shapes[s].shape=t}else this.shapes.push({shape:t,sequenceId:n,sequenceSetId:i})},i.prototype.updateShapeSize=function(e,t,n){var i=e.previousCanvasWidth,s=e.previousCanvasHeight;if(void 0===i)return e.previousCanvasWidth=t,void(e.previousCanvasHeight=n);void 0===e||t===i&&n===s||"ARRANGEMENT"!==this.mode&&(0===t&&0===n||(e.rescale(i,s,t,n),e.previousCanvasWidth=t,e.previousCanvasHeight=n))},i.prototype.updateShapeSizes=function(e){for(var t=0;t<this.shapes.length;t++){var n=this.shapes[t].shape;void 0!==n&&this.updateShapeSize(n,e.canvasWidth,e.canvasHeight)}},i.prototype.findActiveSequenceIdBySequenceSetId=function(e){for(var t=0;t<this.activeSequenceIds.length;t++)if(this.activeSequenceIds[t].sequenceSetId===e)return t;return-1},i.prototype.getShapesBySequenceSetId=function(e){return this.shapes.filter(function(t){return t.sequenceSetId===e}).shape},i.prototype.getShapeBySequenceId=function(e){var t=this.findShapeBySequenceId(e);if(-1!==t)return this.shapes[t].shape},i.prototype.getEditedShape=function(){return this.getShapeBySequenceId(this.editedSequenceId)},i.prototype.findShapeBySequenceId=function(e){for(var t=0;t<this.shapes.length;t++)if(this.shapes[t].sequenceId===e)return t;return-1},i.prototype.isShapeWithSequenceId=function(e){return-1!==this.findShapeBySequenceId(e)},i.prototype.getIndexOfSurface=function(e,t){for(var n=0;n<this.arrangementCanvases.length;n++){var i=this.arrangementCanvases[n];if(i.index===e&&i.sequenceSetId===t)return n}return-1};var o=new i},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});for(var i=n(4),s=n(0),o=n(62),r=new o.a,a=i.a.filenames,c=0;c<4;c++){var u=r.createSet(a[c]),h=s.a.topicMap.newActiveSequenceSet;s.a.publish(h,{sequenceSetId:u.id});for(var d=0;d<1;d++)u.createSequence(u.filename,d)}},function(e,t,n){"use strict";function i(e){var t=e.element,n=new c.a(a.a,t);new u.a(a.a,n).handleTouch(),n.sizeCanvas()}var s=n(34),o=n.n(s),r=n(0),a=(n(4),n(33)),c=n(58),u=n(64);new o.a(function(e,t){r.a.subscribe("newSurface",function(t){e(t)})}).then(i)},function(e,t,n){"use strict";var i=n(30),s=n(129),o=n(120),r=n.n(o);i.a.use(s.a),t.a=new s.a({routes:[{path:"/",name:"Hello",component:r.a}]})},function(e,t,n){function i(e){n(114)}var s=n(8)(n(52),n(127),i,null,null);e.exports=s.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(122),s=n.n(i);t.default={name:"app",components:{Sequencer:s.a},methods:{soundsAreLoaded:function(){return this.$store.state.soundsAreLoaded}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(n(0),n(119)),s=n.n(i);t.default={name:"arrangement",components:{Cell:s.a},computed:{sequenceSets:function(){return this.$store.state.sequenceSetManager.sequenceSets}},methods:{getContainerStyle:function(){var e=this.$store.state.sequenceSetManager,t=this.canAddColumn()||this.canDeleteColumn(),n=50*e.sequenceSets.length;return t&&(n+=50),n=n.toString()+"px",{maxWidth:50*e.sequenceSets[0].sequences.length+"px",maxHeight:n}},createColumn:function(){var e=this.$store.state.sequenceSetManager;e.sequenceSets[0].sequences.length===e.maxNColumns-1&&this.$store.commit("updateColumnAdding",!1),e.createNextColumn(),this.$forceUpdate()},deleteColumn:function(){var e=this.$store.state.sequenceSetManager;1===e.sequenceSets[0].sequences.length?this.$store.commit("updateColumnDelete",!1):e.deleteLastColumn(),this.$forceUpdate()},canAddColumn:function(){var e=this.$store.state.sequenceSetManager,t=this.$store.state.didShowPlus,n=e.canAddMoreColumns(),i=e.allShapesExist(0);return!!n&&(!(!t&&!i)&&(!t&&i&&this.$store.commit("updateDidShowPlus",!0),!0))},canDeleteColumn:function(){return this.$store.state.sequenceSetManager.sequenceSets[0].sequences.length>1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default={name:"cell",props:["index","sequenceSetId","sequenceId"],data:function(){return{shapeExists:!1}},computed:{cellClass:function(){var e="circle";return this.shapeExists&&(e+=" circle--active"),e}},methods:{sequenceExists:function(){return this.$store.state.sequenceSetManager.sequenceExists(this.sequenceSetId,this.index)},shapeExists:function(){return this.$store.state.sequenceSetManager.shapeExists(this.sequenceSetId,this.index)},switchToSequence:function(){this.$store.state.sequenceSetManager.handleClickedSequence(this.sequenceSetId,this.index,this.$store),this.switchToInstrument()},switchToInstrument:function(){this.$store.commit("switchMode","INSTRUMENT")}},mounted:function(){var e=this.$el.children[0].children[0],t=i.a.topicMap.newSurface,n=this.index,s=this.sequenceSetId,o=this;i.a.publish(t,{element:e,values:{type:"ARRANGEMENT",index:n,sequenceSetId:s}}),i.a.subscribe(i.a.topicMap.newShapeReady,function(e){e.sequenceId===o.sequenceId&&(void 0===e.shape?o.shapeExists=!1:o.shapeExists=!0)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n.n(i),o=n(0),r=n(19),a=n(31),c=s()(r.a),u=n.i(a.a)();t.default={name:"instrument",data:function(){return{filenames:c,constraints:u}},methods:{switchToArrangement:function(){this.$store.commit("switchMode","ARRANGEMENT");var e=this.$store.state.sequenceSetManager;e.canAddMoreColumns()&&e.allShapesExist(0)&&this.$store.commit("updateColumnAdding",!0)},clearShape:function(){var e=o.a.topicMap.clearShape;o.a.publish(e,{})},toggleLoop:function(){this.$store.state.sequenceSetManager.toggleLoop()},updateFilename:function(e){this.$store.state.sequenceSetManager.updateFilename(e)},updateConstraint:function(e){this.$store.state.sequenceSetManager.updateConstraint(e)},getRgbString:function(e){return r.a[e].rgbString},getInstrumentStyle:function(e){return{backgroundColor:this.getRgbString(e)}},getInstrumentClassNames:function(e){var t=this.$store.state.editedSequence;return void 0===t?"instrument-dot":e!==t.filename?"instrument-dot":"instrument-dot instrument-dot--active"},getConstraintStyle:function(e){return{backgroundColor:e.color}},getConstraintClass:function(e){var t=this.$store.state.editedSequence;return void 0===t?"constraint":e.name!==t.constraint.name?"constraint":"constraint constraint--active"},getTransportClass:function(){return this.$store.state.sequenceSetManager.isLooping?"transportControl--playing":"transportControl--stopped"}},directives:{captureCanvas:function(e,t){var n=t.value;o.a.publish("newSurface",{element:e,values:n})}},mounted:function(){var e=this;o.a.subscribe(o.a.topicMap.newEditedSequence,function(t){e.$store.commit("updatedEditedSequence",t.sequence)}),window.addEventListener("keydown",function(t){27===t.keyCode&&"ARRANGEMENT"!==e.$store.state.mode&&e.switchToArrangement()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(121),s=n.n(i),o=n(118),r=n.n(o);n(0);t.default={name:"sequencer",components:{Instrument:s.a,Arrangement:r.a},mounted:function(){function e(){t.style.width=window.innerWidth.toString()+"px",t.style.height=window.innerHeight.toString()+"px"}var t=this.$el;window.addEventListener("resize",e),e()},computed:{modeIsInstrument:function(){return"INSTRUMENT"===this.$store.state.mode}},methods:{soundsAreLoaded:function(){return this.$store.state.soundsAreLoaded}}}},function(e,t,n){"use strict";function i(e,t){this.world=e,this.activeCanvas=t,this.instrumentCanvas=t,this.arrangementCanvases=e.arrangementCanvases,this.shouldAnimateInstrument=!0,this.shouldAnimateArrangement=!1,this.shouldDrawActiveNotes=!0,this.isRecording=!1,this.stroke=[],this.style={editedVertices:{shape:"circle",size:30,blipIncrement:.8},drawCentroidArrangement:!1,drawCentroidInstrument:!1},this.ratio=window.devicePixelRatio||1,this.pendingNotes=[],this.activeNotes=[],this.noteTimeTolerance=.02,this.mode=void 0,this.editedSequence=void 0,this.subscribe()}n.d(t,"a",function(){return i});var s=n(0),o=n(4),r=n(19),a=n(59),c=n.n(a);i.prototype.constructor=i,i.prototype.subscribe=function(){var e=s.a.topicMap.newNoteTimesReady,t=s.a.topicMap.canvasResize,n=s.a.topicMap.newEditedSequence,i=s.a.topicMap.modeChange,o=s.a.topicMap.deletedColumn;s.a.subscribe(e,this.handleNewNoteTimes.bind(this)),s.a.subscribe(t,this.handleCanvasResize.bind(this)),s.a.subscribe(n,this.handleNewEditedSequence.bind(this)),s.a.subscribe(i,this.updateMode.bind(this)),s.a.subscribe(o,this.handleDeletedColumn.bind(this))},i.prototype.handleNewNoteTimes=function(e){for(var t=0;t<e.noteTimes.length;t++)this.pendingNotes.push({sequenceId:e.sequenceId,sequenceIndex:e.sequenceIndex,sequenceSetId:e.sequenceSetId,noteTime:e.noteTimes[t],point:e.points[t],coordinate:e.coordinates[t],noteDuration:e.noteDuration,loopIndex:e.loopIndex,filename:e.filename,constraint:e.constraint})},i.prototype.updateMode=function(e){this.mode=e,"ARRANGEMENT"===e?(this.shouldAnimateInstrument=!1,this.shouldAnimateArrangement=!0,this.clearArrangementCanvases(),this.animateArrangement()):(this.shouldAnimateInstrument=!0,this.shouldAnimateArrangement=!1,this.activeCanvas=this.instrumentCanvas,this.animateInstrument())},i.prototype.handleCanvasResize=function(){"INSTRUMENT"===this.mode&&(this.pendingNotes=[],this.activeNotes=[])},i.prototype.handleDeletedColumn=function(){"INSTRUMENT"!==this.mode&&(this.pendingNotes=[],this.activeNotes=[])},i.prototype.drawCircle=function(e,t,n){this.drawArc(e.center,e.radius,!0,n),this.drawDots([e.center],t,!1,n)},i.prototype.drawRectTriLineRand=function(e,t,n){var i=e.points.concat([e.points[0]]),s=e.points.concat([e.center]);this.drawLine(i,!0,n),this.drawDots(s,t,!1,n)},i.prototype.drawShape=function(e,t,n){"circle"===e.identity?this.drawCircle(e,t,n):this.drawRectTriLineRand(e,t,n)},i.prototype.animateArrangement=function(){var e=this,t=this.style.editedVertices.size,n=this.style.editedVertices.blipIncrement;!function i(){if(e.shouldAnimateArrangement){e.updateActiveNotes(),e.clearArrangementCanvases();for(var s=0;s<e.activeNotes.length;s++){var o=e.activeNotes[s],a=o.sequenceIndex,u=e.getArrangementCanvas(o.sequenceSetId,a),h=u.getContext("2d"),d=Date.now(),p=o.start||d,l=o.sign||1,f=o.currentSize||t,v=o.noteDuration/2*1e3,g=(d-p)/v,m={x:50,y:50},y=c.a.outQuad(g);g>.9&&(o.sign=-1,p=d),f+=y*n*l,o.start=p,o.currentSize=f,e.activeCanvas=u,u.width=100*e.ratio,u.height=100*e.ratio,h.scale(e.ratio,e.ratio);var S=o.constraint.color,q={fillStyle:S,strokeStyle:S};e.drawDots([m],f,!1,q),e.style.drawCentroidArrangement&&e.drawDots([m],f/2,!1,{fillStyle:r.a[o.filename].rgbString,strokeStyle:r.a[o.filename].rgbString})}window.requestAnimationFrame(i)}}()},i.prototype.animateInstrument=function(){var e=this,t=this.style.editedVertices.size,n=this.style.editedVertices.blipIncrement;!function i(){if(e.shouldAnimateInstrument){var s=e.world,o=e.activeCanvas,a=s.getEditedShape(),u=0===o.width||void 0!==a&&void 0===a.previousCanvasWidth,h=(e.editedSequence.filename,e.editedSequence.constraint.color),d={fillStyle:h,strokeStyle:h,lineWidth:5};if(e.updateActiveNotes(),u&&e.sizeCanvas(),void 0===a||e.isRecording)if(e.isRecording)e.drawLine(e.stroke,!0,d);else{var p=o.getContext("2d");p.clearRect(0,0,o.width,o.height)}else e.drawShape(a,t,d);for(var l=0;l<e.activeNotes.length;l++)if(void 0!==a){var f=e.activeNotes[l],v=(f.coordinate,Date.now()),g=f.start||v,m=f.sign||1,y=f.currentSize||t,S=f.noteDuration/2*1e3,q=(v-g)/S,x=c.a.outQuad(q);if(q>.9&&(f.sign=-1,g=v),y+=x*n*m,f.start=g,f.currentSize=y,f.sequenceId===s.editedSequenceId&&(e.drawDots([f.point],y,!1,d),e.style.drawCentroidInstrument)){var w=void 0,b=void 0;w="random"===a.identity?f.point:a.center,b="circle"===a.identity||"random"===a.identity?y/4:t/4,e.drawDots([w],b,!1,{fillStyle:r.a[f.filename].rgbString,strokeStyle:r.a[f.filename].rgbString})}}window.requestAnimationFrame(i)}}()},i.prototype.updateActiveNotes=function(){for(var e=[],t=[],n=0;n<this.pendingNotes.length;n++){var i=this.pendingNotes[n],s=o.a.context.currentTime,r=i.noteTime;Math.abs(r-s)<this.noteTimeTolerance?this.activeNotes.push(i):e.push(i)}for(var a=0;a<this.activeNotes.length;a++){var c=this.activeNotes[a];o.a.context.currentTime-(c.noteTime+c.noteDuration)>this.noteTimeTolerance&&t.push(a-t.length)}for(var u=0;u<t.length;u++)this.activeNotes.splice(t[u],1);this.pendingNotes=e;var h=function(e,t){for(var n=[],i=0;i<e.length;i++)e[i].sequenceId===t&&n.push(i-n.length);for(var s=0;s<n.length;s++)e.splice(n[s],1)};void 0===this.world.getEditedShape()&&(h(this.pendingNotes,this.world.editedSequenceId),h(this.activeNotes,this.world.editedSequenceId))},i.prototype.drawLine=function(e,t,n){var i=this.activeCanvas,s=i.getContext("2d");void 0===t&&(t=!0),t&&s.clearRect(0,0,i.width,i.height);for(var o=0;o<e.length-1;o++)s.beginPath(),s.moveTo(e[o].x,e[o].y),s.lineTo(e[o+1].x,e[o+1].y),s.lineWidth=n.lineWidth,s.strokeStyle=n.strokeStyle,s.stroke()},i.prototype.drawArc=function(e,t,n,i){var s=this.activeCanvas,o=s.getContext("2d");void 0===n&&(n=!0),n&&o.clearRect(0,0,s.width,s.height),o.beginPath(),o.arc(e.x,e.y,t,0,2*Math.PI),o.strokeStyle=i.strokeStyle,o.lineWidth=i.lineWidth,o.stroke()},i.prototype.drawDots=function(e,t,n,i){var s=this.activeCanvas,o=s.getContext("2d");void 0===n&&(n=!0),n&&o.clearRect(0,0,s.width,s.height);for(var r=0;r<e.length;r++){o.fillStyle=i.fillStyle,o.globalAlpha=i.alpha||1;var a=e[r].x,c=e[r].y,u=t/2;u=Math.abs(u),o.beginPath(),o.arc(a,c,u,0,2*Math.PI),o.closePath(),o.fill()}},i.prototype.sizeCanvas=function(){function e(){var e=t.getBoundingClientRect(),i=e.width,o=e.height,r=window.devicePixelRatio||1;t.width=i*r,t.height=o*r,n.scale(r,r),s.a.publish("canvasResize",{canvasWidth:t.width/r,canvasHeight:t.height/r})}var t=this.activeCanvas,n=t.getContext("2d");e(),window.addEventListener("resize",e)},i.prototype.handleNewEditedSequence=function(e){this.pendingNotes=[],this.activeNotes=[],this.editedSequence=e.sequence},i.prototype.getArrangementCanvas=function(e,t){for(var n=0;n<this.arrangementCanvases.length;n++){var i=this.arrangementCanvases[n],s=i.canvas,o=i.sequenceSetId,r=i.index;if(o===e&&r===t)return s}},i.prototype.clearArrangementCanvases=function(){for(var e=0;e<this.arrangementCanvases.length;e++){var t=this.arrangementCanvases[e].canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)}},i.prototype.clearActiveCanvas=function(){var e=this.activeCanvas;e.getContext("2d").clearRect(0,0,e.width,e.height)}},function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t.inElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},t.outElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},t.inOutElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce,t["in-elastic"]=t.inElastic,t["out-elastic"]=t.outElastic,t["in-out-elastic"]=t.inOutElastic},function(e,t,n){"use strict";function i(e,t){this.sequenceSet=e,this.shape=void 0,this.id=r.a.randId(),this.index=0,this.filename=t,this.shouldLoop=!0,this.isActive=!1,this.isLooping=!1,this.loopIndex=0,this.nBeats=4,this.noteLength="quarter",this.constraints=n.i(a.a)(),this.constraint=this.constraints[0],this.currentBeat=s.a.getCurrentBeat(),this.sources=[],this.previousWidth=void 0,this.previousHeight=void 0,this.mode=void 0,this.animationFrameId=void 0,this.subscribe()}n.d(t,"a",function(){return i});var s=n(4),o=n(0),r=n(5),a=n(31),c=n(12);i.prototype.constructor=i,i.prototype.subscribe=function(){var e=o.a.topicMap.newShapeReady,t=o.a.topicMap.canvasResize,n=o.a.topicMap.modeChange;o.a.subscribe(e,this.registerShape.bind(this),this.id),o.a.subscribe(n,this.handleModeChange.bind(this)),o.a.subscribe(t,this.handleCanvasResize.bind(this))},i.prototype.registerShape=function(e){var t=e.sequenceId,n=e.shape;if(t===this.id){if(void 0===n)return this.nBeats=4,this.noteLength="quarter",this.shape=n,void this.stopSources();switch(this.shape=n,n.identity){case"triangle":this.nBeats=4,this.noteLength="eighthTriplet";break;case"rectangle":this.nBeats=4,this.noteLength="quarter";break;case"circle":this.nBeats=4,this.noteLength="sixteenth";break;case"line":this.nBeats=4,this.noteLength="eighth";break;case"random":this.nBeats=4,this.noteLength="sixteenthTriplet"}}},i.prototype.cancelLoop=function(){window.cancelAnimationFrame(this.animationFrameId),this.stopSources(),this.isLooping=!1},i.prototype.stopSources=function(){for(var e=0;e<this.sources.length;e++)try{this.sources[e].stop(0)}catch(e){console.warn("Could not stop playback.")}},i.prototype.handleModeChange=function(e){this.mode=e},i.prototype.handleCanvasResize=function(e){var t=e.canvasWidth,n=e.canvasHeight;0===t&&0===n||"ARRANGEMENT"!==this.mode&&(this.previousWidth=t,this.previousHeight=n)},i.prototype.getPercentageCoordinates=function(e,t,n){function i(e){return e<0?0:e>1?1:e}for(var s=[],o=0;o<e.length;o++){var r=i(e[o].x/t),a=i(e[o].y/n),u=e[o].index;s.push(new c.a(r,a,u))}return s},i.prototype.loop=function(){var e=this,t=o.a.topicMap.newActiveSequence;this.currentBeat=s.a.getCurrentBeat(),this.shouldLoop=!0,this.loopIndex=0,o.a.publish(t,{sequenceId:this.id,sequenceSetId:this.sequenceSet.id});!function t(){if(e.shouldLoop){e.isLooping=!0;var n=s.a.getCurrentBeat(),i=e.nBeats,r=e.loopIndex,a=e.filename,c=e.noteLength,u=e.shape,h=void 0,d=void 0,p=o.a.topicMap.newNoteTimesReady;if(void 0!==u)if(h=u.points,"rectangle"===u.identity)h=[h[r]];else if("circle"===u.identity){var l=u.center;h=u.vertices.repPoint(l,4),d=[{x:u.radius,y:u.radius}]}else if("random"===u.identity){var f=u.points[0];h=u.vertices.repPoint(f,6)}if(n===e.currentBeat)return void(e.animationFrameId=window.requestAnimationFrame(t));var v=void 0,g=void 0;if(void 0!==u){var m=window.devicePixelRatio||1;"INSTRUMENT"===e.mode?(v=u.canvas.width/m,g=u.canvas.height/m):"ARRANGEMENT"===e.mode&&(v=e.previousWidth,g=e.previousHeight),"circle"===u.identity&&(d=e.getPercentageCoordinates(d,v,g));var y=e.getPercentageCoordinates(h,v,g),S=s.a.schedulePlay(a,{noteLength:c,sequence:e,coordinates:y,identity:u.identity,radius:d}),q=s.a.context.currentTime;o.a.publish(p,{sequenceId:e.id,sequenceIndex:e.index,sequenceSetId:e.sequenceSet.id,noteTimes:S.noteTimes,noteDuration:S.noteDuration,currentTime:q,loopIndex:r,shape:u,points:h,coordinates:y,constraint:e.constraint,filename:a})}if(e.previousWidth=v,e.previousHeight=g,e.currentBeat=n,r===i-1)return e.isLooping=!1,void o.a.publish("endOfSequence",{},e.sequenceSet.id);e.loopIndex++,e.animationFrameId=window.requestAnimationFrame(t)}}()}},function(e,t,n){"use strict";function i(e){this.filename=e,this.sequences=[],this.hasEditedSequence=!1,this.editedSequenceIndex=void 0,this.editedSequenceId=void 0,this.activeSequenceIndex=void 0,this.activeSequenceId=void 0,this.id=o.a.randId(),this.mode=void 0,this.isLooping=!1,this.subscribe()}n.d(t,"a",function(){return i});var s=n(0),o=(n(4),n(5)),r=n(60);i.prototype.constructor=i,i.prototype.subscribe=function(){var e=s.a.topicMap.endOfSequence,t=s.a.topicMap.modeChange,n=s.a.topicMap.newEditedSequence;s.a.subscribe(e,this.nextSequence.bind(this),this.id),s.a.subscribe(t,this.changeMode.bind(this)),s.a.subscribe(n,this.handleNewEditedSequence.bind(this))},i.prototype.resetLoopIndices=function(){for(var e=0;e<this.sequences.length;e++)void 0!==this.sequences[e]&&(this.sequences[e].loopIndex=0)},i.prototype.cancelLoop=function(){this.isLooping=!1,0!==this.sequences.length&&this.sequences[this.activeSequenceIndex].cancelLoop()},i.prototype.forceCancelLoop=function(){this.isLooping=!1;var e=this.sequences.length;if(0!==e&&1!==e){this.getNonEditedSequences().map(function(e){e.cancelLoop()})}},i.prototype.forceCancelAllLoops=function(){this.isLooping=!1;for(var e=0;e<this.sequences.length;e++)this.sequences[e].cancelLoop()},i.prototype.loop=function(){if(this.isLooping=!0,0!==this.sequences.length){if(0===this.getLoopingSequences().length){var e=this.sequences[this.activeSequenceIndex];if(void 0===e)return void this.nextSequence();this.activeSequenceId=e.id,e.loop()}}},i.prototype.nextSequence=function(){if("INSTRUMENT"===this.mode)return void this.loop();this.activeSequenceIndex===this.sequences.length-1?this.activeSequenceIndex=0:this.activeSequenceIndex++,this.loop()},i.prototype.switchToColumn=function(e){var t=this.isLooping;this.sequences.length>1&&(this.forceCancelAllLoops(),this.activeSequenceIndex=e),t&&this.loop()},i.prototype.handleNewEditedSequence=function(e){if(e.sequenceSetId!==this.id)return void(this.hasEditedSequence=!1);var t=this.sequences.filter(function(e){return void 0!==e});this.hasEditedSequence=!0;var n=e.sequenceId;this.activeSequenceIndex=this.getIndexOfSequenceId(n),this.editedSequenceIndex=this.activeSequenceIndex,this.editedSequenceId=n;var i=!1;this.isLooping&&(i=!0),t.length>1&&this.forceCancelLoop(),i&&this.loop()},i.prototype.getSequenceIds=function(){for(var e=[],t=0;t<this.sequences.length;t++)void 0!==this.sequences[t]?e.push(this.sequences[t].id):e.push(void 0);return e},i.prototype.getNonEditedSequences=function(){var e=this;return this.sequences.filter(function(t){return t.id!==e.editedSequenceId})},i.prototype.getDefinedSequences=function(){return this.sequences.filter(function(e){return void 0!==e})},i.prototype.getLoopingSequences=function(){return this.sequences.filter(function(e){return e.isLooping})},i.prototype.getIndexOfSequenceId=function(e){var t=this.getSequenceIds();return o.a.indexOf(t,e)},i.prototype.getSequenceById=function(e){return this.sequences[this.getIndexOfSequenceId(e)]},i.prototype.changeMode=function(e){this.mode=e},i.prototype.createSequence=function(e,t){var n=new r.a(this,e),i=this.id;void 0===t&&(t=this.sequences.length-1),this.sequences[t]=n,n.index=t,1===this.sequences.length&&(this.activeSequenceIndex=t,this.activeSequenceId=n.id),s.a.publish(s.a.topicMap.newSequenceCreated,{sequenceId:n.id,sequenceSetId:i,sequenceIndex:t})},i.prototype.deleteLastSequence=function(){var e=this.isLooping;this.forceCancelAllLoops(),this.sequences.splice(this.sequences.length-1,1),this.activeSequenceIndex=0,this.resetLoopIndices(),s.a.publish(s.a.topicMap.deletedColumn,{}),e&&this.loop()}},function(e,t,n){"use strict";function i(){this.sequenceSets=[],this.sequenceSetIndex=0,this.editedSequenceId=void 0,this.maxNColumns=4,this.isLooping=!1}n.d(t,"a",function(){return i});var s=n(0),o=n(61),r=n(33);i.prototype.constructor=i,i.prototype.createSet=function(e){var t=new o.a(e),n=s.a.topicMap.newSequenceSetCreated;return s.a.publish(n,{sequenceSetId:t.id}),this.sequenceSets.push(t),t},i.prototype.loop=function(){if(!this.isLooping){for(var e=0;e<this.sequenceSets.length;e++)this.sequenceSets[e].loop();this.isLooping=!0}},i.prototype.cancelLoop=function(){if(this.isLooping){for(var e=0;e<this.sequenceSets.length;e++)this.sequenceSets[e].cancelLoop();this.isLooping=!1}},i.prototype.toggleLoop=function(){this.isLooping?this.cancelLoop():this.loop()},i.prototype._toggleSequences=function(){var e=this.sequenceSets.map(function(e){return e.id});++this.sequenceSetIndex>e.length-1&&(this.sequenceSetIndex=0);var t=e[this.sequenceSetIndex];s.a.publish(s.a.topicMap.newActiveSequenceSet,{sequenceSetId:t})},i.prototype.getSequenceSetById=function(e){for(var t=0;t<this.sequenceSets.length;t++){var n=this.sequenceSets[t];if(n.id===e)return n}return-1},i.prototype.sequenceExistsAtIndex=function(e){return this.sequenceSets.some(function(t){return t.sequences.length-1===e})},i.prototype.createSequencesAtIndex=function(e){for(var t=0;t<this.sequenceSets.length;t++){var n=this.sequenceSets[t];n.createSequence(n.filename,e)}},i.prototype.createNextColumn=function(){var e=this.sequenceSets[0].sequences.length-1;e++,this.createSequencesAtIndex(e)},i.prototype.sequenceExists=function(e,t){return void 0!==this.getSequenceSetById(e).sequences[t]},i.prototype.shapeExists=function(e,t){return!!this.sequenceExists(e,t)&&void 0!==this.getSequenceSetById(e).sequences[t].shape},i.prototype.allShapesExist=function(e){for(var t=0;t<this.sequenceSets.length;t++){var n=this.sequenceSets[t],i=n.id;if(!this.shapeExists(i,e))return!1}return!0},i.prototype.handleClickedSequence=function(e,t,n){var i=this.getSequenceSetById(e);this.sequenceExists(e,t)||i.createSequence(i.filename,t),this.markActiveSet(e);var s=i.sequences[t].id;this.markEditedSequence(e,s);for(var o=0;o<this.sequenceSets.length;o++)this.sequenceSets[o].switchToColumn(t);this.editedSequenceId=e},i.prototype.markActiveSet=function(e){var t=s.a.topicMap.newActiveSequenceSet;s.a.publish(t,{sequenceSetId:e})},i.prototype.markEditedSequence=function(e,t){var n=s.a.topicMap.newEditedSequence,i=this.getSequenceSetById(e).getSequenceById(t);s.a.publish(n,{sequenceSetId:e,sequenceId:t,sequence:i})},i.prototype.getEditedSequence=function(){return this.getSequenceSetById(r.a.activeSequenceSetId).getSequenceById(r.a.editedSequenceId)},i.prototype.updateFilename=function(e){this.getEditedSequence().filename=e},i.prototype.updateConstraint=function(e){this.getEditedSequence().constraint=e},i.prototype.canAddMoreColumns=function(){return this.sequenceSets[0].sequences.length!==this.maxNColumns},i.prototype.deleteLastColumn=function(){for(var e=0;e<this.sequenceSets.length;e++)this.sequenceSets[e].deleteLastSequence()}},function(e,t,n){"use strict";function i(e){this.vertices=e,this.criteria={rectangle:{axisRatioThreshold:.5},circle:{globalThreshold:.5},triangle:{globalThreshold:10},line:{distanceThreshold:.4,perpDistanceThreshold:.05},random:{globalThreshold:.5}},this.estimatedVertices={rectangle:[],circle:[],triangle:[],line:[]},this.identity=void 0}n.d(t,"a",function(){return i});var s=n(12),o=n(32),r=n(5);i.prototype.constructor=i,i.prototype.updateEstimatedVertices=function(){this.estimatedVertices.rectangle=this.getEstimatedRectVertices(),this.estimatedVertices.triangle=this.getEstimatedTriangleVertices(),this.estimatedVertices.circle=this.getEstimatedCircleVertices(),this.estimatedVertices.line=this.getEstimatedLineVertices()},i.prototype.getEstimatedTriangleVertices=function(){for(var e=this.vertices.hull,t=e.points,n=[],i=0;i<t.length;i++)n.push(i);var s,o=-1/0;n=r.a.combs(n,3);for(var i=0;i<n.length;i++){var a=n[i],c=t[a[0]],u=t[a[1]],h=t[a[2]],d=[c,u,h],p=Math.abs(e.getArea(d));p>o&&(s=[c,u,h],o=p)}return s},i.prototype.getEstimatedRectVertices=function(){function e(e){return e.x<a.x&&e.y>a.y}function t(e){return e.x>a.x&&e.y>a.y}function n(e){return e.x<a.x&&e.y<a.y}function i(e){return e.x>a.x&&e.y<a.y}var s=this.vertices.hull,o=s.points,a=s.centroid,c=o.filter(e),u=o.filter(t),h=o.filter(n),d=o.filter(i),p=c.length,l=u.length,f=h.length,v=d.length;if(0===p||0===l||0===f||0===v)return[];var g=s.getDistances(a,c),m=s.getDistances(a,u),y=s.getDistances(a,h),S=s.getDistances(a,d),q=r.a.findMax(g),x=r.a.findMax(m),w=r.a.findMax(y),b=r.a.findMax(S);return[c[q],u[x],h[w],d[b]]},i.prototype.getEstimatedCircleVertices=function(){var e=this.vertices,t=e.hull.points,n=e.hull.centroid,i=e.getDistances(n,t),o=r.a.sum(i),a=i.length,c=o/a;return[n,new s.a(n.x,n.y+c,0)]},i.prototype.getEstimatedLineVertices=function(){var e=this.vertices.points.length;return[this.vertices.points[0],this.vertices.points[e-1]]},i.prototype.getLikelihoodRect=function(){function e(e,t,i){var s=n.getSlope(e,i),o=n.getSlope(t,i),r=n.getSlope(e,t);return s/r*(o/r)}var t=this.estimatedVertices.rectangle;if(0===t.length)return 0;var n=this.vertices.hull,i=t[0],s=t[1],o=t[2],r=t[3],a=n.centroid,c=e(i,r,a),u=e(o,s,a);this.criteria.rectangle.axisRatioThreshold;return Math.max(c,u)},i.prototype.getLikelihoodCircle=function(){var e=this.vertices,t=e.hull,n=e.points,i=t.points,s=n.length,o=i.length,r=o/s,a=e.area,c=t.area,u=a/c;return e.perimeterEfficiency*r*u},i.prototype.getLikelihoodTriangle=function(){var e=this.estimatedVertices.triangle,t=this.vertices.hull.area;return void 0===e?1/0:t/Math.abs(this.vertices.getArea(e))},i.prototype.getLikelihoodLine=function(){for(var e,t=this.vertices,n=t.points,i=n[0],s=n[n.length-1],o=[],a=[],c=t.getDistance(i,s),u=1;u<n.length-2;u++)e=t.getPerpendicularDistance(n[u],i,s),o.push(e/c);for(var u=0;u<n.length-2;u++)a.push(t.getDistance(n[u],n[u+1]));return{distanceRatio:c/r.a.sum(a),perpDistanceRatio:Math.max.apply(Math,o)}},i.prototype.getLikelihoodRandom=function(){return this.vertices.perimeterEfficiency},i.prototype.isRectangle=function(){var e=this.getLikelihoodRect(),t=this.criteria.rectangle.axisRatioThreshold;return Math.abs(e-1)<t},i.prototype.isCircle=function(){return this.getLikelihoodCircle()>this.criteria.circle.globalThreshold},i.prototype.isTriangle=function(){return this.getLikelihoodTriangle()<this.criteria.triangle.globalThreshold},i.prototype.isLine=function(){var e=this.getLikelihoodLine(),t=e.distanceRatio,n=e.perpDistanceRatio,i=this.criteria.line.distanceThreshold,s=this.criteria.line.perpDistanceThreshold;return t-1<i&&n<s},i.prototype.isRandom=function(){return this.getLikelihoodRandom()<this.criteria.random.globalThreshold},i.prototype.getAdjustedRectVertices=function(){var e=this.estimatedVertices.rectangle,t=new s.b(e),n=t._sortPointsByPolarAngle();n.unshift(t.anchorPoint),t.points=n,t.updateAllExceptHull(),n.push(n[0]);var i=t.getConsecutiveDistances(n),o=r.a.mean(i),a=t.centroid,c=new s.a(o/2,o/2,0),u=a.copy(),h=a.copy(),d=a.copy(),p=a.copy();u.minus(c),h.x-=c.x,h.y+=c.y,d.plus(c),p.x+=c.x,p.y-=c.y;var l=new s.b([u,h,d,p]);return l.updateAll(),l},i.prototype.getAdjustedTriangleVertices=function(){for(var e=this.vertices,t=this.estimatedVertices.triangle,n=e.hull.centroid,i=e.getDistances(n,t),o=.9*r.a.mean(i),a=[],c=0;c<3;c++){var u=n.copy();0===c?u.y-=o:1===c?(u.y+=o,u.x-=o):(u.y+=o,u.x+=o),a.push(u)}var h=new s.b(a);return h.updateAll(),h},i.prototype.getLine=function(){return new o.a(this.vertices)},i.prototype.getRectangle=function(){var e=this.getAdjustedRectVertices();return new o.b(e,"rectangle")},i.prototype.getTriangle=function(){var e=this.getAdjustedTriangleVertices();return new o.b(e,"triangle")},i.prototype.getCircle=function(){var e=this.vertices,t=this.estimatedVertices.circle,n=t[0],i=t[1].y-n.y;return new o.c(e,n,i)},i.prototype.getRandom=function(){var e=this.vertices.points.length-1;return this.vertices.points=[this.vertices.points[e]],this.vertices.updateAllExceptHull(),new o.b(this.vertices,"random")},i.prototype.getDetectedShape=function(){switch(this.identity){case"line":return this.getLine();case"rectangle":return this.getRectangle();case"circle":return this.getCircle();case"triangle":return this.getTriangle();case"random":default:return this.getRandom()}},i.prototype.identify=function(){var e,t=this.isRectangle(),n=this.isCircle(),i=this.isTriangle(),s=this.isLine(),o=this.isRandom();e=s?"line":o?"random":n?"circle":t?"rectangle":i?"triangle":void 0,this.identity=e}},function(e,t,n){"use strict";function i(e,t){this.world=e,this.animator=t}n.d(t,"a",function(){return i});var s=n(5),o=n(63),r=(n(32),n(12)),a=n(0),c=n(4),u=n(116),h=n.n(u);i.prototype.constructor=i,i.prototype.handleTouch=function(){function e(e){e.preventDefault(),d=i({x:e.clientX,y:e.clientY})}function t(e){if(e.preventDefault(),y=!0,c.a.playDummySound(),d=i({x:e.clientX,y:e.clientY}),p=g.world.getEditedShape(),v=g.world.editedSequenceId,f=v,void 0===p)return S.isRecording=!0,void requestAnimationFrame(o);var t=p.getVerticesNear(d,x),n=p.isNearCenter(d,x);if(0===t.length&&!n)return g.publishNewShape(void 0),S.isRecording=!0,void requestAnimationFrame(o);S.isRecording=!1,t.length>0?(l=t[0],requestAnimationFrame(a)):requestAnimationFrame(u)}function n(){f=g.world.editedSequenceId}function i(e){var t=g.animator.instrumentCanvas.getBoundingClientRect(),n=g.animator.instrumentCanvas.width,i=g.animator.instrumentCanvas.height,s=g.animator.ratio;return{x:Math.round((e.x-t.left)/(t.right-t.left)*n/s),y:Math.round((e.y-t.top)/(t.bottom-t.top)*i/s)}}function s(){y=!1,n(),S.isRecording&&f===v&&(S.isRecording=!1,g.handleNewStroke(m),m=[],S.stroke=[])}function o(){n(),y&&f===v&&(m.push(d),S.stroke=m,requestAnimationFrame(o))}function a(){n(),y&&f===v&&(l.x=Math.round(d.x),l.y=Math.round(d.y),p.update(),requestAnimationFrame(a))}function u(){if(n(),y&&f===v){var e=new r.a(d.x,d.y,0);p.centerOn(e),p.update(),requestAnimationFrame(u)}}var d,p,l,f,v,g=this,m=[],y=!0,S=this.animator,q=S.instrumentCanvas,x=S.style.editedVertices.size;S.isRecording=!1,h()(q).on("down",t).on("up",s).on("move",e)},i.prototype.publishNewShape=function(e){var t=this.world.editedSequenceId,n=this.world.activeSequenceSetId,i=a.a.topicMap.newShapeReady;a.a.publish(i,{shape:e,sequenceId:t,sequenceSetId:n})},i.prototype.handleNewStroke=function(e){if(e=s.a.unique(s.a.resample(e,256)),void 0===e[0])return void console.warn("No shape will be constructed.");var t=new r.b(e);t.updateAll();var n=new o.a(t);n.updateEstimatedVertices(),n.identify();var i=n.getDetectedShape();i.canvas=this.animator.instrumentCanvas,this.publishNewShape(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),s=n(51),o=n(50),r=n.n(o),a=n(49),c=n(0),u=n(4),h=(n(48),n(47));i.a.use(s.a);var d=new s.a.Store({state:{sequenceSetManager:h.a,mode:"ARRANGEMENT",soundsAreLoaded:!1,editedSequence:void 0,canAddColumn:!1,didShowPlus:!1,canDeleteColumn:!1},mutations:{switchMode:function(e,t){if("ARRANGEMENT"!==t&&"INSTRUMENT"!==t)throw new Error("Unrecognized view mode "+t);e.mode=t,c.a.publish("modeChange",t)},markSoundsAreLoaded:function(e,t){e.soundsAreLoaded=t},updateDidShowPlus:function(e,t){e.didShowPlus=t},updateColumnAdding:function(e,t){e.canAddColumn=t},updateColumnDelete:function(e,t){e.canDeleteColumn=t},updatedEditedSequence:function(e,t){e.editedSequence=t}}});d.commit("switchMode","ARRANGEMENT"),h.a.loop(),window.addEventListener("keydown",function(e){32===e.keyCode&&h.a.toggleLoop()}),u.a.loadSounds().then(function(){d.commit("markSoundsAreLoaded",!0)}),i.a.config.productionTip=!1,new i.a({el:"#app",store:d,router:a.a,template:"<App/>",components:{App:r.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,n){function i(e){n(107),n(108)}var s=n(8)(n(53),n(123),i,"data-v-0a587290",null);e.exports=s.exports},function(e,t,n){function i(e){n(110),n(111)}var s=n(8)(n(54),n(125),i,"data-v-6f30bcb8",null);e.exports=s.exports},function(e,t,n){function i(e){n(109)}var s=n(8)(n(55),n(124),i,"data-v-2d560100",null);e.exports=s.exports},function(e,t,n){function i(e){n(112),n(113)}var s=n(8)(n(56),n(126),i,"data-v-a9caebae",null);e.exports=s.exports},function(e,t,n){function i(e){n(115)}var s=n(8)(n(57),n(128),i,null,null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",style:e.getContainerStyle()},[e.canAddColumn()||e.canDeleteColumn()?n("div",{staticClass:"row interface"},[e.canDeleteColumn()?n("div",{staticClass:"cell minusCircle",on:{click:function(t){e.deleteColumn()}}},[n("div",{staticClass:"bar horizontalpx"})]):e._e(),e._v(" "),e.canAddColumn()?n("div",{staticClass:"cell plusCircle",on:{click:function(t){e.createColumn()}}},[n("div",{staticClass:"bar horizontalpx"}),e._v(" "),n("div",{staticClass:"bar verticalpx"})]):e._e()]):e._e(),e._v(" "),e._l(e.sequenceSets,function(t){return n("div",{staticClass:"row interface"},e._l(t.sequences.length,function(e){return n("cell",{key:t.sequences[e-1].id,attrs:{index:e-1,sequenceId:t.sequences[e-1].id,sequenceSetId:t.id}})}))})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),n("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[e._v("Gitter Chat")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("Docs for This Template")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[e._v("vue-router")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[e._v("vuex")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[e._v("vue-loader")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("awesome-vue")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cell"},[n("div",{class:e.cellClass,on:{click:function(t){e.switchToSequence()}}},[n("canvas",{staticClass:"instrument__canvas"})])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"instrument"},[n("div",{staticClass:"row interface"},[n("div",{staticClass:"cell"},[n("div",{staticClass:"circle circle--active",on:{click:function(t){e.switchToArrangement()}}})]),e._v(" "),e._l(e.constraints,function(t){return n("div",{staticClass:"cell"},[n("div",{class:e.getConstraintClass(t),style:e.getConstraintStyle(t),on:{click:function(n){e.updateConstraint(t)}}})])}),e._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"circle circle--active transportControl",on:{click:function(t){e.toggleLoop()}}},[n("div",{class:e.getTransportClass()})])])],2),e._v(" "),n("canvas",{directives:[{name:"capture-canvas",rawName:"v-capture-canvas",value:{type:"INSTRUMENT"},expression:"{type: 'INSTRUMENT'}"}],staticClass:"instrument__canvas"}),e._v(" "),n("div",{staticClass:"row interface"},[n("div",{staticClass:"cell"},[n("div",{staticClass:"instrument-cell",on:{click:function(t){e.clearShape()}}})]),e._v(" "),e._l(e.filenames,function(t){return n("div",{staticClass:"cell"},[n("div",{staticClass:"instrument-cell",on:{click:function(n){e.updateFilename(t)}}},[n("div",{class:e.getInstrumentClassNames(t),style:e.getInstrumentStyle(t)})])])})],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.soundsAreLoaded()?n("sequencer"):n("div",[e._v("\n\t\tLoading ...\n\t")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sequencer"}},[n("instrument",{directives:[{name:"show",rawName:"v-show",value:e.modeIsInstrument,expression:"modeIsInstrument"}]}),e._v(" "),n("arrangement",{directives:[{name:"show",rawName:"v-show",value:!e.modeIsInstrument,expression:"!modeIsInstrument"}]})],1)},staticRenderFns:[]}}],[65]);
//# sourceMappingURL=app.610535faafd7da876798.js.map