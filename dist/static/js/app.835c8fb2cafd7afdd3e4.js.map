{"version":3,"sources":["webpack:///./src/geometry/vertices.js","webpack:///./src/eventbus.js","webpack:///./src/geometry/shape.js","webpack:///./src/util.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///../playground/circle_detect/stroke_record3.js","webpack:///App.vue","webpack:///Hello.vue","webpack:///./src/animation/animator.js","webpack:///./src/audio/sequence.js","webpack:///./src/audio/sequenceset.js","webpack:///./src/audio/sequencesets.js","webpack:///./src/geometry/detector.js","webpack:///./src/interaction.js","webpack:///./src/main.js","webpack:///./src/world.js","webpack:///./src/audio/webaudio.js","webpack:///./src/components/Hello.vue?93d0","webpack:///./src/App.vue?88a4","webpack:///./src/components/Hello.vue?2a6f","webpack:///./src/components/Hello.vue?e10f","webpack:///./src/App.vue?a3de"],"names":["Vertices","pts","points","pointsSansAnchor","anchorPoint","undefined","firstPoint","hull","area","signedArea","perimeter","centroid","perimeterEfficiency","hullAreaRatio","hullNRatio","addPoints","prototype","constructor","i","length","addPoint","x","y","addPointsWithIndex","index","ap","point","Point","push","pushFirstPoint","removeLastPoint","splice","copyPoints","arr","map","pt","arrayAdd","b","plus","arrayMinus","minus","_sortPointsByPolarAngle","self","sort","a","polarA","_findPolarAngle","polarB","ONE_RADIAN","deltaX","deltaY","angle","Math","atan2","reverse","_ccw","p0","p1","p2","difAngle","cwAngle","ccwAngle","getHull","hullPoints","pointsLength","every","unshift","shift","filter","p","some","updateMost","updatePerimeter","updateArea","updatePerimeterEfficiency","updateCentroid","updateAll","updateHull","updateHullAreaRatio","updateHullNRatio","updateAllExceptHull","getCentroid","getPerimeter","getArea","abs","perim","getPerimeterEfficiency","x1","x2","y1","y2","xsq","pow","ysq","sqrt","sum","PI","xs","ys","Cx","Cy","x0","y0","B","getDistances","dist","getDistance","getPerpendicularDistance","v","w","sqr","dist2","distToSegmentSquared","l2","t","max","min","getConsecutiveDistances","D","getSlope","getLineEquationY","m","func","getLineEquationX","getXAlongLineAtY","getYAlongLineAtX","getAngle","p3","p12","p13","p23","A1","A2","A3","acos","isNearVertex","bounds","isNearVertices","M","doesIntersect","copy","EventBus","topics","topicMap","newShapeReady","endOfSequence","newSequenceSetCreated","newSequenceCreated","newActiveSequence","newEditedSequence","newActiveSequenceSet","newNoteTimesReady","subscribe","topic","listener","id","method","publish","data","to","Error","forEach","eventBus","Shape","vertices","identity","getCenter","update","center","centerOn","coord","getVerticesNear","Util","logicalKeep","isNearCenter","drawLine","canvas","doClear","ctx","getContext","clearRect","width","height","beginPath","moveTo","lineTo","stroke","drawDots","fillStyle","fillRect","Line","N","verts","Circle","radius","r","arc","contains","val","unique","newArr","resample","factor","ceil","resampled","stp","findMin","ind","minimum","Infinity","findMax","maximum","cumulative","mean","combs","output","getAllPossibleCombinations","getCombinations","array","size","start","initialStuff","concat","randId","append","random","toString","substring","Vue","use","routes","path","name","component","Hello","Animator","world","shouldAnimate","isRecording","style","editedVertices","shape","pendingNotes","activeNotes","noteTimeTolerance","newNoteTimesTopic","handleNewNoteTimes","bind","noteTimes","noteTime","noteDuration","loopIndex","animate","editedShape","getEditedShape","updateActiveNotes","window","requestAnimationFrame","expired","note","currentTime","webAudio","context","Sequence","sequenceSet","filename","shouldLoop","isActive","nBeats","noteLength","currentBeat","getCurrentBeat","sources","topicName","registerShape","sequenceId","stop","loop","newActiveSequenceTopic","sequenceSetId","looper","newNotesReadyTopic","schedule","schedulePlay","sequence","SequenceSet","sequences","activeSequenceIndex","activeSequenceId","topicNextSequence","nextSequence","cancelLoop","currentSequence","createSequence","setId","SequenceSets","sequenceSets","createSet","set","newSequenceSetTopicName","Detector","criteria","rectangle","axisRatioThreshold","circle","globalThreshold","triangle","line","distanceThreshold","perpDistanceThreshold","estimatedVertices","updateEstimatedVertices","getEstimatedRectVertices","getEstimatedTriangleVertices","getEstimatedCircleVertices","getEstimatedLineVertices","inds","largestSet","A","C","tri","currentArea","topLeftPts","topLeftFunc","topRightPts","topRightFunc","btmLeftPts","btmLeftFunc","btmRightPts","btmRightFunc","nTopLeft","nTopRight","nBtmLeft","nBtmRight","topLeftDistances","topRightDistances","btmLeftDistances","btmRightDistances","topLeftInd","topRightInd","btmLeftInd","btmRightInd","topLeftPt","topRightPt","btmLeftPt","btmRightPt","distances","summed","getLikelihoodRect","rectVertices","axis1Ratio","getSlopeRatio","axis2Ratio","threshold","slopeA","slopeB","slopeAB","ratio","getLikelihoodCircle","vertPoints","nSamples","nHull","nRatio","realArea","hullArea","areaRatio","perimEfficiency","confidence","getLikelihoodTriangle","triangleVertices","getLikelihoodLine","pFirst","pLast","perpDistanceRatios","lastDistance","pDistance","distRatio","maxPerpRatio","distanceRatio","perpDistanceRatio","getLikelihoodRandom","isRectangle","estimate","thresh","isCircle","isTriangle","isLine","estimates","perpRatio","distanceThresh","perpDistanceThresh","isRandom","getAdjustedRectVertices","rectPoints","rectVerts","L","midPoint","recombinedVerts","getAdjustedTriangleVertices","triPoints","meanDist","newVerts","getLine","getRectangle","getTriangle","getCircle","getRandom","getDetectedShape","identify","Interaction","animator","handleTouch","position","shouldContinue","vertex","element","sequenceIdCurrent","sequenceIdOnDown","interact","on","down","up","move","e","clientX","clientY","editedSequenceId","record","nearbyVertices","publishNewShape","modifyVertex","modifyCenter","updateCurrentSequenceId","handleNewStroke","round","activeSequenceSetId","newShapeTopic","detector","config","productionTip","el","router","template","components","App","World","shapes","activeSequenceIds","newShapeReadyTopic","newSequenceSetCreatedTopic","newSequenceCreatedTopic","newActiveSequenceSetTopic","registerSequenceSet","registerSequence","updateActiveSequence","updateActiveSequenceSet","updateEditedSequence","findActiveSequenceIdBySequenceSetId","isShapeWithSequenceId","findShapeBySequenceId","getShapesBySequenceSetId","getShapeBySequenceId","WebAudio","properties","bpm","interval","initContext","buffers","filenames","defaultPlayProperties","audible","pitch","validate","playedDummySound","audioContext","AudioContext","webkitAudioContext","loadTestSounds","that","fullfile","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","buffer","send","loadSound","resolve","reject","onerror","err","loadSounds","promises","file","promise","all","then","sounds","catch","console","log","getBufferByFilename","oneBuffer","totalElapsedTime","floor","props","scheduledTime","beatsToSchedule","duration","scheduledTimes","playTime","playProps","when","play","source","createBufferSource","connect","destination","playDummySound","createBuffer"],"mappings":"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","file":"static/js/app.835c8fb2cafd7afdd3e4.js","sourcesContent":["import { Util } from '../util.js';\n\n/*\n\tVERTICES\n*/\n\nfunction Vertices(pts) {\n\n\tthis.points = [];\n\tthis.pointsSansAnchor = [];\n\tthis.anchorPoint = undefined;\n\tthis.firstPoint = undefined;\n\tthis.hull = undefined;\n\tthis.area = undefined;\n\tthis.signedArea = undefined;\n\tthis.perimeter = undefined;\n\tthis.centroid = undefined;\n\tthis.perimeterEfficiency = undefined;\n\tthis.hullAreaRatio = 0;\n\tthis.hullNRatio = 0;\n\n\tif (pts !== undefined) {\n\t\tthis.addPoints(pts);\n\t}\n}\n\n/*\n\tINIT\n*/\n\nVertices.prototype.constructor = Vertices;\n\nVertices.prototype.addPoints = function(pts) {\n\tfor (var i=0; i<pts.length; i++) {\n\t\tthis.addPoint(pts[i].x, pts[i].y, i);\n\t}\n}\n\nVertices.prototype.addPointsWithIndex = function(pts) {\n\tfor (var i=0; i<pts.length; i++) {\n\t\tthis.addPoint(pts[i].x, pts[i].y, pts[i].index);\n\t}\n}\n\nVertices.prototype.addPoint = function(x, y, index) {\n\tvar ap = this.anchorPoint,\n\t\tpoint = new Point(x, y, index);\n\n    if (ap === undefined) {\n        this.anchorPoint = point;\n        this.firstPoint = point;\n        this.points.push(point);\n        return;\n    } else if (\n        (ap.y > y && ap.x > x) ||\n        (ap.y === y && ap.x > x) ||\n        (ap.y > y && ap.x === x)\n    ) {\n        this.pointsSansAnchor.push(ap);\n        this.anchorPoint = point;\n    } else {\n    \tthis.pointsSansAnchor.push(point);\n    }\n\tthis.points.push(point);\n\tif (this.firstPoint.index > point.index) {\n\t\tthis.firstPoint = point;\n\t}\n};\n\n/*\n\tUTIL\n*/\n\nVertices.prototype.pushFirstPoint = function() {\n\tthis.points.push(this.points[0]);\n}\n\nVertices.prototype.removeLastPoint = function() {\n\tthis.points.splice(this.points.length-1, 1);\n}\n\nVertices.prototype.copyPoints = function(arr) {\n\treturn arr.map(function(pt) {\n\t\treturn new Point(pt.x, pt.y, pt.index);\n\t});\n}\n\n/*\n\tOPERATIONS\n*/\n\nVertices.prototype.arrayAdd = function(points, b) {\n\tfor (var i=0; i<points.length; i++) {\n\t\tpoints[i].plus(b);\n\t}\n}\n\nVertices.prototype.arrayMinus = function(points, b) {\n\tfor (var i=0; i<points.length; i++) {\n\t\tpoints[i].minus(b);\n\t}\n}\n\n/*\n\tCONVEX HULL\n*/\n\nVertices.prototype._sortPointsByPolarAngle = function() {\n    var self = this;\n\n    return this.pointsSansAnchor.sort(function(a, b) {\n        var polarA = self._findPolarAngle(self.anchorPoint, a);\n        var polarB = self._findPolarAngle(self.anchorPoint, b);\n\n        if (polarA < polarB) return -1;\n        if (polarA > polarB) return 1;\n        return 0;\n    });\n}\nVertices.prototype._findPolarAngle = function(a, b) {\n    var ONE_RADIAN = 57.295779513082;\n    var deltaX, deltaY;\n\n    if (!a || !b) return 0;\n\n    deltaX = (b.x - a.x);\n    deltaY = (b.y - a.y);\n\n    if (deltaX == 0 && deltaY == 0) return 0;\n\n    var angle = Math.atan2(deltaY, deltaX) * ONE_RADIAN;\n\n    if (this.reverse) {\n        if (angle <= 0) {\n            angle += 360;\n        }\n    } else {\n        if (angle >= 0) {\n            angle += 360;\n        }\n    }\n    return angle;\n}\nVertices.prototype._ccw = function(p0, p1, p2) {\n    var difAngle;\n    var cwAngle = this._findPolarAngle(p0, p1);\n    var ccwAngle = this._findPolarAngle(p0, p2);\n\n    if (cwAngle > ccwAngle) {\n        difAngle = cwAngle - ccwAngle;\n        return !(difAngle > 180);\n    } else if (cwAngle < ccwAngle) {\n        difAngle = ccwAngle - cwAngle;\n        return (difAngle > 180);\n    }\n    return true;\n}\nVertices.prototype.getHull = function() {\n    var hullPoints = [],\n        points,\n        pointsLength;\n\n    this.reverse = this.pointsSansAnchor.every(function(point){\n        return (point.x < 0 && point.y < 0);\n    });\n\n    points = this._sortPointsByPolarAngle();\n    pointsLength = points.length;\n\n    if (pointsLength < 3) {\n        points.unshift(this.anchorPoint);\n        return points;\n    }\n\n    hullPoints.push(points.shift(), points.shift());\n\n    while (true) {\n        var p0,\n            p1,\n            p2;\n\n        hullPoints.push(points.shift());\n\n        p0 = hullPoints[hullPoints.length - 3];\n        p1 = hullPoints[hullPoints.length - 2];\n        p2 = hullPoints[hullPoints.length - 1];\n\n        if (this._ccw(p0, p1, p2)) {\n            hullPoints.splice(hullPoints.length - 2, 1);\n        }\n\n        if (points.length == 0) {\n            if (pointsLength == hullPoints.length) {\n                var ap = this.anchorPoint;\n                hullPoints = hullPoints.filter(function(p) { return !!p; });\n                if (!hullPoints.some(function(p){\n                        return(p.x == ap.x && p.y == ap.y);\n                    })) {\n                    hullPoints.unshift(this.anchorPoint);\n                }\n                return hullPoints;\n            }\n            points = hullPoints;\n            pointsLength = points.length;\n            hullPoints = [];\n            hullPoints.push(points.shift(), points.shift());\n        }\n    }\n}\n\n/*\n\tUPDATES\n*/\n\nVertices.prototype.updateMost = function() {\n\tthis.updatePerimeter();\n\tthis.updateArea();\n\tthis.updatePerimeterEfficiency();\n\tthis.updateCentroid();\n}\n\nVertices.prototype.updateAll = function() {\n\tthis.updateMost();\n\tthis.updateHull();\n\tthis.updateHullAreaRatio();\n\tthis.updateHullNRatio();\n}\n\nVertices.prototype.updateAllExceptHull = function() {\n\tthis.updateMost();\n}\n\nVertices.prototype.updateHull = function() {\n\tvar hullPoints = this.getHull(),\n\t\thull = new Vertices();\n\thull.addPointsWithIndex(hullPoints);\n\thull.updateAllExceptHull();\n\thull.hull = hull;\n\tthis.hull = hull;\n}\n\nVertices.prototype.updateCentroid = function() {\n\tif (this.area === undefined) this.updateArea();\n\tthis.pushFirstPoint();\n\tthis.centroid = this.getCentroid(this.points, this.signedArea);\n\tthis.removeLastPoint();\n}\n\nVertices.prototype.updatePerimeter = function() {\n\tthis.pushFirstPoint();\n\tthis.perimeter = this.getPerimeter(this.points);\n\tthis.removeLastPoint();\n}\n\nVertices.prototype.updateArea = function() {\n\tthis.pushFirstPoint();\n\tvar area = this.getArea(this.points);\n\tthis.area = Math.abs(area);\n\tthis.signedArea = area;\n\tthis.removeLastPoint();\n}\n\nVertices.prototype.updatePerimeterEfficiency = function() {\n\tif (this.area === undefined || this.perimeter === undefined) {\n\t\tthis.updateArea();\n\t\tthis.updatePerimeter();\n\t}\n\tvar\tarea = this.area,\n\t\tperim = this.perimeter;\n\tthis.perimeterEfficiency = this.getPerimeterEfficiency(area, perim);\n}\n\nVertices.prototype.updateHullAreaRatio = function() {\n\tif (this.area === undefined || this.hull === undefined) return;\n\tthis.hullAreaRatio = this.hull.area / this.area;\n}\n\nVertices.prototype.updateHullNRatio = function() {\n\tif (this.hull === undefined) return;\n\tthis.hullNRatio = this.hull.points.length / this.points.length\n}\n\n/*\n\tBASIC GEOMETRY\n*/\n\nVertices.prototype.getPerimeter = function(points) {\n\tvar perim = 0,\n\t\tx1, x2, y1, y2;\n\tfor (var i=1; i<points.length; i++) {\n\t\tx1 = points[i-1].x;\n\t\tx2 = points[i].x;\n\t\ty1 = points[i-1].y;\n\t\ty2 = points[i].y;\n\t\tvar xsq = Math.pow(x2-x1, 2),\n\t\t\tysq = Math.pow(y2-y1, 2);\n\t\tperim += Math.sqrt(xsq + ysq);\n\t}\n\treturn perim\n}\n\nVertices.prototype.getArea = function(points) {\n\tvar x1, y1, x2, y2, sum = 0;\n\tfor (var i=0; i<points.length-1; i++) {\n\t\tx1 = points[i].x;\n\t\tx2 = points[i+1].x;\n\t\ty1 = points[i].y;\n\t\ty2 = points[i+1].y;\n\t\tsum += (x1*y2) - (y1*x2);\n\t}\n\treturn sum/2\n}\n\nVertices.prototype.getPerimeterEfficiency = function(area, perim) {\n\treturn (2*Math.sqrt(Math.PI*area))/perim\n}\n\nVertices.prototype.getCentroid = function(points, area) {\n\tif (area === undefined) {\n\t\tarea = getArea(points);\n\t}\n\tvar xs = points.map(function(point) { return point.x }),\n\t\tys = points.map(function(point) { return point.y });\n\n\tvar Cx = 0, \n\t\tCy = 0;\n\n\tfor (var i = 0; i<xs.length-1; i++) {\n\t\tvar x0 = xs[i],\n\t\t\tx1 = xs[i+1],\n\t\t\ty0 = ys[i],\n\t\t\ty1 = ys[i+1],\n\t\t\tB = (x0*y1 - x1*y0);\n\t\tCx += (x0+x1) * B;\n\t\tCy += (y0+y1) * B;\n\t}\n\n\tCx /= (6*area);\n\tCy /= (6*area);\n\n\treturn new Point(Cx, Cy, 0);\n}\n\nVertices.prototype.getDistances = function(point, points) {\n\tvar dist = [];\n\tfor (var i=0; i<points.length; i++) {\n\t\tdist.push(this.getDistance(point, points[i]));\n\t}\n\treturn dist;\n}\n\nVertices.prototype.getDistance = function(a, b) {\n\treturn Math.sqrt(Math.pow(b.x-a.x, 2) + Math.pow(b.y-a.y, 2));\n}\n\nVertices.prototype.getPerpendicularDistance = function(p, v, w) {\n\tfunction sqr(x) { return x * x }\n\tfunction dist2(v, w) { return sqr(v.x - w.x) + sqr(v.y - w.y) }\n\tfunction distToSegmentSquared(p, v, w) {\n\t  var l2 = dist2(v, w);\n\t  if (l2 == 0) return dist2(p, v);\n\t  var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n\t  t = Math.max(0, Math.min(1, t));\n\t  return dist2(p, { x: v.x + t * (w.x - v.x),\n\t                    y: v.y + t * (w.y - v.y) });\n\t}\n\treturn Math.sqrt(distToSegmentSquared(p, v, w));\n}\n\nVertices.prototype.getConsecutiveDistances = function(points) {\n\tvar D = [], a, b;\n\tfor (var i=0; i<points.length-1; i++) {\n\t\ta = points[i];\n\t\tb = points[i+1];\n\t\tD.push(this.getDistance(a, b));\n\t}\n\treturn D;\n}\n\nVertices.prototype.getSlope = function(p1, p2) {\n\treturn (p2.y - p1.y) / (p2.x - p1.x);\n}\n\nVertices.prototype.getLineEquationY = function(p1, p2) {\n\tvar m = this.getSlope(p1, p2),\n\t\tb = p2.y - (m * p2.x),\n\t\tfunc = function(x) { return m * x + b; };\n\treturn func;\n}\n\nVertices.prototype.getLineEquationX = function(p1, p2) {\n\tvar m = this.getSlope(p1, p2),\n\t\tb = p2.y - (m * p2.x),\n\t\tfunc = function(y) { return (y - b)/m; };\n\treturn func;\n}\n\nVertices.prototype.getXAlongLineAtY = function(y, p1, p2) {\n\tvar func = this.getLineEquationX(p1, p2);\n\treturn func(y);\n}\n\nVertices.prototype.getYAlongLineAtX = function(x, p1, p2) {\n\tvar func = this.getLineEquationY(p1, p2);\n\treturn func(x);\n}\n\nVertices.prototype.getAngle = function(p1, p2, p3) {\n\tvar p12 = this.getDistance(p1, p2),\n\t\tp13 = this.getDistance(p1, p3),\n\t\tp23 = this.getDistance(p2, p3),\n\t\tA1 = Math.pow(p12, 2),\n\t\tA2 = Math.pow(p13, 2),\n\t\tA3 = Math.pow(p23, 2);\n\treturn Math.acos((A1 + A2 - A3) / (2 * p12 * p13));\n}\n\n/*\n\tCONDITIONS\n*/\n\nVertices.prototype.isNearVertex = function(p1, p2, bounds) {\n\treturn this.getDistance(p1, p2) <= bounds;\n}\n\nVertices.prototype.isNearVertices = function(points, p2, bounds) {\n\tvar M = [];\n\tfor (var i=0; i<points.length; i++) {\n\t\tM.push(this.isNearVertex(points[i], p2, bounds));\n\t}\n\treturn M;\n}\n\nVertices.prototype.doesIntersect = function(p1, p2, p3, bounds) {\n\tvar m = this.getSlope(p2, p3),\n\t\tb = p2.y - (m * p2.x),\n\t\ty = m * p1.x + b;\n\treturn Math.abs(y-p1.y) <= bounds;\n}\n\n/*\n\tPOINT\n*/\n\nfunction Point(x, y, index) {\n\tthis.x = x;\n\tthis.y = y;\n\tthis.index = index;\n}\n\nPoint.prototype.constructor = Point;\n\nPoint.prototype.copy = function() {\n\treturn new Point(this.x, this.y, this.index);\n}\n\nPoint.prototype.minus = function(b) {\n\tif (b instanceof Point) {\n\t\tthis.x -= b.x;\n\t\tthis.y -= b.y;\n\t} else {\n\t\tthis.x -= b;\n\t\tthis.y -= b;\n\t}\n}\n\nPoint.prototype.plus = function(b) {\n\tif (b instanceof Point) {\n\t\tthis.x += b.x;\n\t\tthis.y += b.y;\n\t} else {\n\t\tthis.x += b;\n\t\tthis.y += b;\n\t}\n}\n\nexport { Vertices, Point }\n\n\n// WEBPACK FOOTER //\n// ./src/geometry/vertices.js","// http://dev.housetrip.com/2014/09/15/decoupling-javascript-apps-using-pub-sub-pattern/\n\nfunction EventBus() {\n\tthis.topics = {}\n\tthis.topicMap = {\n\t\tnewShapeReady: 'newShapeReady',\n\t\tendOfSequence: 'endOfSequence',\n\t\tnewSequenceSetCreated: 'newSequenceSetCreated',\n\t\tnewSequenceCreated: 'newSequenceCreated',\n\t\tnewActiveSequence: 'newActiveSequence',\n\t\tnewEditedSequence: 'newEditedSequence',\n\t\tnewActiveSequenceSet: 'newActiveSequenceSet',\n\t\tnewNoteTimesReady: 'newNoteTimesReady'\n\t}\n}\n\nEventBus.prototype.constructor = EventBus\n\nEventBus.prototype.subscribe = function(topic, listener, id) {\n  \tif (!this.topics[topic]) this.topics[topic] = [];\n\n  \tthis.topics[topic].push( { method: listener, id } )\n}\n\nEventBus.prototype.publish = function(topic, data, to) {\n  \tif (!this.topics[topic]) {\n\t\tthrow new Error(`No ${topic} exists`);\n  \t}\n  \tif (this.topics.length < 1) return;\n  \tthis.topics[topic].forEach( (listener) => {\n\t\tif (typeof to == 'undefined') {\n\t\t  \tlistener.method(data || {});\n\t\t} else {\n\t\t  \tif (to === listener.id) {\n\t\t\t\tlistener.method(data || {});\n\t\t  \t}\n\t\t}\n  \t})\n}\n\nconst eventBus = new EventBus();\n\nexport { eventBus }\n\n\n// WEBPACK FOOTER //\n// ./src/eventbus.js","import { Util } from '../util.js';\nimport { Vertices, Point } from './vertices.js'\n\n/*\n\tSHAPE -- Rectangle, Triangle, Random ...\n*/\n\nfunction Shape(vertices, identity) {\n\tthis.vertices = vertices;\n\tthis.points = vertices.points;\n\tthis.identity = identity;\n\tthis.getCenter();\n}\n\nShape.prototype.constructor = Shape;\n\nShape.prototype.update = function() {\n\tthis.vertices.updateAllExceptHull();\n\tthis.getCenter();\n}\n\nShape.prototype.getCenter = function() {\n\tthis.center = this.vertices.centroid;\n}\n\nShape.prototype.centerOn = function(pt) {\n\tpt.minus(this.center);\n\tthis.vertices.arrayAdd(this.points, pt);\n\tthis.update();\n}\n\nShape.prototype.isNearVertices = function(coord, bounds) {\n\treturn this.vertices.isNearVertices(this.points, coord, bounds);\n}\n\nShape.prototype.getVerticesNear = function(coord, bounds) {\n\tvar index = this.isNearVertices(coord, bounds);\n\treturn Util.logicalKeep(this.points, index);\n}\n\nShape.prototype.isNearCenter = function(coord, bounds) {\n\treturn this.vertices.isNearVertices([this.center], coord, bounds)[0];\n}\n\n/*\n\tDISPLAY\n*/\n\nShape.prototype.drawLine = function(canvas, doClear) {\n\tif (typeof doClear == 'undefined') doClear = true;\n\tvar ctx = canvas.getContext('2d'),\n\t\tpoints = this.vertices.copyPoints(this.points);\n\tpoints.push(points[0]);\n\tif (doClear)  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\tfor (var i=0; i<points.length-1; i++) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(points[i].x, points[i].y);\n\t\tctx.lineTo(points[i+1].x, points[i+1].y);\n\t\tctx.stroke();\n\t}\n}\n\nShape.prototype.drawDots = function(canvas, width, doClear) {\n\tif (typeof doClear == 'undefined') doClear = true;\n\tvar ctx = canvas.getContext('2d'),\n\t\tpoints = this.vertices.copyPoints(this.points);\n\t\tpoints.push(this.center);\n\tif (doClear)  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\tfor (var i=0; i<points.length; i++) {\n\t\tif (points[i].index === 0) {\n\t\t\t// ctx.fillStyle = 'red';\n\t\t\tctx.fillStyle = 'gray';\n\t\t} else if (points[i].index === 1) {\n\t\t\tctx.fillStyle = 'gray';\n\t\t} else {\n\t\t\tctx.fillStyle = 'gray';\n\t\t}\n\t\tvar x = points[i].x - width/2;\n\t\tvar y = points[i].y - width/2;\n\t\tctx.fillRect(x, y, width, width);\n\t}\n}\n\n/*\n\tLINE\n*/\n\t\nfunction Line(vertices) {\n\tvar N = vertices.points.length - 1;\n\tthis.vertices = vertices;\n\tthis.points = [vertices.points[0], vertices.points[N]];\n\tthis.identity = 'line';\n\tthis.getCenter();\n}\n\nLine.prototype = Object.create(Shape.prototype);\n\nLine.prototype.constructor = Line;\n\nLine.prototype.getCenter = function() {\n\tvar points = this.points,\n\t\tverts = this.vertices,\n\t\tx = (points[1].x - points[0].x) / 2 + points[0].x,\n\t\ty = verts.getYAlongLineAtX(x, points[0], points[1]);\n\tthis.center = new Point(x, y, 0);\n}\n\n/*\n\tCIRCLE\n*/\n\nfunction Circle(vertices, center, radius) {\n\tthis.vertices = vertices;\n\tthis.center = center;\n\tthis.radius = radius;\n\tthis.points = [center];\n\tthis.identity = 'circle';\n}\n\nCircle.prototype = Object.create(Shape.prototype);\n\nCircle.prototype.constructor = Circle;\n\nCircle.prototype.update = function() {\n\tthis.vertices.updateAllExceptHull();\n}\n\nCircle.prototype.drawLine = function(canvas, doClear) {\n\tif (typeof doClear == 'undefined') doClear = true;\n\tvar ctx = canvas.getContext('2d'),\n\t\tpoint = this.points[0],\n\t\tr = this.radius;\n\tif (doClear) ctx.clearRect(0, 0, canvas.width, canvas.height);\n\tctx.beginPath();\n\tctx.arc(point.x, point.y, r, 0, Math.PI*2);\n\tctx.stroke();\n}\n\nexport { Shape, Line, Circle }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/geometry/shape.js","var Util = {};\n\nUtil.contains = function(arr, val) {\n\tfor (var i=0; i<arr.length; i++) {\n\t\tif (arr[i] === val) return true;\n\t}\n\treturn false;\n}\n\nUtil.unique = function(arr) {\n\tvar newArr = [arr[0]];\n\tfor (var i=1; i<arr.length; i++) {\n\t\tif (this.contains(newArr, arr[i])) continue;\n\t\tnewArr.push(arr[i]);\n\t}\n\treturn newArr;\n}\n\nUtil.resample = function(arr, N) {\n\tif (arr.length <= N) return arr;\n\tvar factor = Math.ceil(arr.length / N),\n\t\tresampled = [],\n\t\tstp = 0;\n\twhile (stp < arr.length) {\n\t\tresampled.push(arr[stp]);\n\t\tstp += factor;\n\t}\n\treturn resampled;\n}\n\nUtil.findMin = function(arr) {\n\tvar ind = -1,\n\t\tminimum = Infinity;\n\tfor (var i=0; i<arr.length; i++) {\n\t\tif (arr[i] < minimum) {\n\t\t\tind = i;\n\t\t\tminimum = arr[i];\n\t\t}\n\t}\n\treturn ind;\n}\n\nUtil.findMax = function(arr) {\n\tvar ind = -1,\n\t\tmaximum = -Infinity;\n\tfor (var i=0; i<arr.length; i++) {\n\t\tif (arr[i] > maximum) {\n\t\t\tind = i;\n\t\t\tmaximum = arr[i];\n\t\t}\n\t}\n\treturn ind;\n}\n\nUtil.sum = function(arr) {\n\tvar cumulative = 0;\n\tfor (var i=0; i<arr.length; i++) {\n\t\tcumulative += arr[i];\n\t}\n\treturn cumulative;\n}\n\nUtil.mean = function(arr) {\n\treturn this.sum(arr) / arr.length;\n}\n\nUtil.combs = function(arr, N) {\n\tvar output = [];\n\tgetAllPossibleCombinations(arr, N, output);\n\treturn output;\n\tfunction getCombinations(array, size, start, initialStuff, output) {\n\t    if (initialStuff.length >= size) {\n\t        output.push(initialStuff);\n\t    } else {\n\t        var i;\n\t        for (i=start; i<array.length; ++i) {\n\t\t    \tgetCombinations(array, size, i + 1, initialStuff.concat(array[i]), output);\n\t        }\n\t    }\n\t}\n\tfunction getAllPossibleCombinations(array, size, output) {\n\t    getCombinations(array, size, 0, [], output);\n\t}\n}\n\nUtil.logicalKeep = function(arr, ind) {\n\tvar newArr = [];\n\tfor (var i=0; i<arr.length; i++) {\n\t\tif (!ind[i]) continue;\n\t\tnewArr.push(arr[i]);\n\t}\n\treturn newArr;\n}\n\nUtil.randId = function(append) {\n\tlet id = Math.random().toString(36).substring(7);\n\tif (append == null) return id;\n\treturn append + id;\n}\n\nexport { Util };\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Hello from '@/components/Hello'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Hello',\n      component: Hello\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bd26cd6c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bd26cd6c\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 43\n// module chunks = 1","import { eventBus } from '../../app/src/eventbus.js';\nimport { webAudio } from '../../app/src/audio/webaudio.js';\nimport { SequenceSets } from '../../app/src/audio/sequencesets.js';\nimport { world } from '../../app/src/world.js';\nimport { Animator } from '../../app/src/animation/animator.js';\nimport { Interaction } from '../../app/src/interaction.js';\n\nlet sequenceSetManager = new SequenceSets(),\n\tfilename = webAudio.filenames[0],\n\tsequenceSet = sequenceSetManager.createSet(filename),\n\tsequenceSet2 = sequenceSetManager.createSet(filename),\n\tcanvas = document.createElement('canvas'),\n\tctx = canvas.getContext('2d'),\n\tanimator = new Animator(world, canvas),\n\tinteraction = new Interaction(world, animator);\n\neventBus.publish(eventBus.topicMap.newActiveSequenceSet, {sequenceSetId: sequenceSet.id});\neventBus.subscribe(eventBus.topicMap.newNoteTimesReady, function(data) {\n\t// console.log(data);\n});\n\nsizeCanvas();\n\ninteraction.handleTouch();\nanimator.animate();\n\nsequenceSet.createSequence(filename);\n// sequenceSet.createSequence(filename);\n\nsequenceSetManager.loop();\n\ndocument.body.appendChild(canvas);\n\nwindow.addEventListener('resize', sizeCanvas);\n\nwindow.addEventListener('keydown', function(evt) {\n\tif (evt.keyCode === 27) {\n\t\tsequenceSetManager.cancelLoop();\n\t} else if (evt.keyCode === 32) {\n\t\tsequenceSetManager.loop();\n\t}\n});\n\nfunction sizeCanvas() {\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../playground/circle_detect/stroke_record3.js\n// module id = 44\n// module chunks = 1","<template>\n  <div id=\"app\"></div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  display: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?4246bad0","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\">Forum</a></li>\n      <li><a href=\"https://gitter.im/vuejs/vue\" target=\"_blank\">Gitter Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\">Twitter</a></li>\n      <br>\n      <li><a href=\"http://vuejs-templates.github.io/webpack/\" target=\"_blank\">Docs for This Template</a></li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li><a href=\"http://router.vuejs.org/\" target=\"_blank\">vue-router</a></li>\n      <li><a href=\"http://vuex.vuejs.org/\" target=\"_blank\">vuex</a></li>\n      <li><a href=\"http://vue-loader.vuejs.org/\" target=\"_blank\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'hello',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Hello.vue?8b4cb386","import { eventBus } from '../eventbus.js';\nimport { webAudio } from '../audio/webaudio.js';\n\nfunction Animator(world, canvas) {\n\tthis.world = world;\n\tthis.canvas = canvas;\n\tthis.shouldAnimate = true;\n\tthis.isRecording = false;\n\tthis.stroke = [];\n\tthis.style = {\n\t\teditedVertices: {\n\t\t\tshape: 'circle',\n\t\t\tsize: 30\n\t\t}\n\t}\n\tthis.pendingNotes = [];\n\tthis.activeNotes = [];\n\tthis.noteTimeTolerance = 1/60\n\tthis.subscribe();\n}\n\nAnimator.prototype.subscribe = function() {\n\tlet newNoteTimesTopic = eventBus.topicMap.newNoteTimesReady;\n\teventBus.subscribe(newNoteTimesTopic, this.handleNewNoteTimes.bind(this));\n}\n\nAnimator.prototype.handleNewNoteTimes = function(data) {\n\tfor (let i=0; i<data.noteTimes.length; i++) {\n\t\tthis.pendingNotes.push({\n\t\t\tnoteTime: data.noteTimes[i],\n\t\t\tpoint: data.points[i],\n\t\t\tnoteDuration: data.noteDuration,\n\t\t\tloopIndex: data.loopIndex\n\t\t});\n\t}\n}\n\nAnimator.prototype.constructor = Animator;\n\nAnimator.prototype.animate = function() {\n\n\tif (!this.shouldAnimate) return;\n\n\tlet world = this.world,\n\t\tcanvas = this.canvas,\n\t\teditedShape = world.getEditedShape();\n\n\tthis.updateActiveNotes();\n\n\tif (editedShape !== undefined && !this.isRecording) {\n\t\teditedShape.drawLine(canvas);\n\t\teditedShape.drawDots(canvas, 30, false);\n\t} else if (this.isRecording) {\n\t\tthis.drawLine(this.stroke);\n\t} else {\n\t\tlet ctx = canvas.getContext('2d');\n\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\t}\n\n\tfor (let i=0; i<this.activeNotes.length; i++) {\n\t\tif (editedShape !== undefined) {\n\t\t\tthis.drawDots([this.activeNotes[i].point], 40, false);\n\t\t}\n\t}\n\n\twindow.requestAnimationFrame(this.animate.bind(this));\n}\n\nAnimator.prototype.updateActiveNotes = function() {\n\tlet pendingNotes = [],\n\t\texpired = [];\n\tfor (let i=0; i<this.pendingNotes.length; i++) {\n\t\tlet note = this.pendingNotes[i],\n\t\t\tcurrentTime = webAudio.context.currentTime,\n\t\t\tnoteTime = note.noteTime;\n\t\tif (Math.abs(noteTime-currentTime) < this.noteTimeTolerance) {\n\t\t\tthis.activeNotes.push(note);\n\t\t} else {\n\t\t\tpendingNotes.push(note);\n\t\t}\n\t}\n\tfor (let i=0; i<this.activeNotes.length; i++) {\n\t\tlet note = this.activeNotes[i],\n\t\t\tcurrentTime = webAudio.context.currentTime,\n\t\t\tnoteTime = note.noteTime,\n\t\t\tnoteDuration = note.noteDuration;\n\t\tif ((currentTime-(noteTime+noteDuration)) > this.noteTimeTolerance) {\n\t\t\texpired.push(i-expired.length);\n\t\t}\n\t}\n\tfor (let i=0; i<expired.length; i++) {\n\t\tthis.activeNotes.splice(expired[i], 1);\n\t}\n\tthis.pendingNotes = pendingNotes;\n\t// this.activeNotes = activeNotes;\n}\n\nAnimator.prototype.drawLine = function(points, doClear) {\n\tlet canvas = this.canvas,\n\t\tctx = canvas.getContext('2d');\n\tif (typeof doClear == 'undefined') doClear = true;\n\tif (doClear) ctx.clearRect(0, 0, canvas.width, canvas.height);\n\tfor (var i=0; i<points.length-1; i++) {\n\t\tctx.beginPath();\n\t\tctx.moveTo(points[i].x, points[i].y);\n\t\tctx.lineTo(points[i+1].x, points[i+1].y);\n\t\tctx.stroke();\n\t}\n}\n\nAnimator.prototype.drawDots = function(points, width, doClear) {\n\tlet canvas = this.canvas,\n\t\tctx = canvas.getContext('2d');\n\tif (typeof doClear == 'undefined') doClear = true;\n\tif (doClear) ctx.clearRect(0, 0, canvas.width, canvas.height);\n\tfor (let i=0; i<points.length; i++) {\n\t\tctx.fillStyle = 'gray';\n\t\tlet x = points[i].x - width/2;\n\t\tlet y = points[i].y - width/2;\n\t\tctx.fillRect(x, y, width, width);\n\t}\n}\n\nexport { Animator };\n\n\n// WEBPACK FOOTER //\n// ./src/animation/animator.js","import { webAudio } from './webaudio.js';\nimport { eventBus } from '../eventbus.js'\nimport { Util } from '../util.js';\n\nfunction Sequence(sequenceSet, filename) {\n\tthis.sequenceSet = sequenceSet;\n\tthis.shape = undefined;\n\tthis.id = Util.randId();\n\tthis.filename = filename;\n\tthis.shouldLoop = true;\n\tthis.isActive = false;\n\tthis.loopIndex = 0;\n\tthis.nBeats = 4;\n\tthis.noteLength = 'quarter';\n\tthis.currentBeat = webAudio.getCurrentBeat();\n\tthis.sources = [];\n\tthis.subscribe();\n}\n\nSequence.prototype.constructor = Sequence;\n\nSequence.prototype.subscribe = function() {\n\tlet topicName = eventBus.topicMap.newShapeReady;\n\teventBus.subscribe(topicName, this.registerShape.bind(this), this.id);\n}\n\nSequence.prototype.registerShape = function(data) {\n\tlet id = data.sequenceId,\n\t\tshape = data.shape;\n\tif (id !== this.id) return;\n\tif (shape === undefined) {\n\t\tthis.nBeats = 4;\n\t\tthis.noteLength = 'quarter';\n\t\tthis.shape = shape;\n\t\tfor (let i=0; i<this.sources.length; i++) {\n\t\t\tthis.sources[i].stop(0);\n\t\t}\n\t\treturn;\n\t}\n\tthis.shape = shape;\n\tswitch (shape.identity) {\n\t\tcase 'triangle':\n\t\t\tthis.nBeats = 4;\n\t\t\tthis.noteLength = 'eighthTriplet';\n\t\t\tbreak;\n\t\tcase 'rectangle':\n\t\t\tthis.nBeats = 4;\n\t\t\tthis.noteLength = 'quarter';\n\t\t\tbreak;\n\t\tcase 'circle':\n\t\t\tthis.nBeats = 4;\n\t\t\tthis.noteLength = 'sixteenth';\n\t\t\tbreak;\n\t\tcase 'line':\n\t\t\tthis.nBeats = 4;\n\t\t\tthis.noteLength = 'eighth';\n\t\t\tbreak;\n\t\tcase 'random':\n\t\t\tthis.nBeats = 4;\n\t\t\tthis.noteLength = 'sixteenthTriplet';\n\t\t\tbreak;\n\t}\n\t// this.loopIndex = 0;\n}\n\nSequence.prototype.loop = function() {\n\tlet self = this,\n\t\tnewActiveSequenceTopic = eventBus.topicMap.newActiveSequence;\n\n\tthis.currentBeat = webAudio.getCurrentBeat();\n\tthis.shouldLoop = true;\n\tthis.loopIndex = 0;\n\n\t//\tmark that a new active sequence has begun\n\n\teventBus.publish(newActiveSequenceTopic, {\n\t\tsequenceId: this.id,\n\t\tsequenceSetId: this.sequenceSet.id\n\t});\n\n\tconst looper = () => {\n\n\t\tif (!self.shouldLoop) return;\n\n\t\tlet currentBeat = webAudio.getCurrentBeat(),\n\t\t\tnBeats = self.nBeats,\n\t\t\tloopIndex = self.loopIndex,\n\t\t\tfilename = self.filename,\n\t\t\tnoteLength = self.noteLength,\n\t\t\tshape = self.shape,\n\t\t\tpoints,\n\t\t\tnewNotesReadyTopic = eventBus.topicMap.newNoteTimesReady;\n\n\t\tif (shape !== undefined) {\n\t\t\t// points = shape.vertices.copyPoints(shape.points)\n\t\t\tpoints = shape.points;\n\t\t\tif (shape.identity === 'rectangle') {\n\t\t\t\tpoints = [points[loopIndex]];\n\t\t\t}\n\t\t}\t\t\t\n\n\t\t//\tunless we've reached the next beat, do not proceed\n\n\t\tif (currentBeat === self.currentBeat) {\n\t\t\twindow.requestAnimationFrame(looper);\n\t\t\treturn;\n\t\t}\n\n\t\t//\tOnly calculate properties if we're the active sequence\n\n\t\t// if (this.isActive) {\n\n\t\t// }\n\n\t\t//\totherwise, schedule the appropriate number of notes associated with the\n\t\t//\tcurrent beat, and return the scheduled note times\n\n\t\tif (shape !== undefined) {\n\t\t\tlet schedule = webAudio.schedulePlay(filename, {noteLength, sequence:self}),\n\t\t\t\tcurrentTime = webAudio.context.currentTime;\n\t\t\t//\tmark self new note times are available\n\t\t\teventBus.publish(newNotesReadyTopic, {\n\t\t\t\tsequenceId: self.id,\n\t\t\t\tsequenceSetId: self.sequenceSet.id,\n\t\t\t\tnoteTimes: schedule.noteTimes,\n\t\t\t\tnoteDuration: schedule.noteDuration,\n\t\t\t\tcurrentTime, \n\t\t\t\tloopIndex, \n\t\t\t\tshape,\n\t\t\t\tpoints\n\t\t\t});\n\t\t}\n\n\t\t//\tmark the updated currentBeat\n\n\t\tself.currentBeat = currentBeat;\n\n\t\t//\tif we're on the last beat of the sequence,\n\t\t//\tquit out of the looping function, and alert the parent\n\t\t//\tself it should move to the next sequence\n\n\t\tif (loopIndex === nBeats-1) {\n\t\t\teventBus.publish('endOfSequence', {}, self.sequenceSet.id);\n\t\t\treturn;\n\t\t}\n\n\t\t//\totherwise, proceed to the next beat\n\n\t\tself.loopIndex++;\n\n\t\twindow.requestAnimationFrame(looper);\n\t}\n\n\tlooper();\n}\n\nexport { Sequence };\n\n\n// WEBPACK FOOTER //\n// ./src/audio/sequence.js","import { eventBus } from '../eventbus.js';\nimport { webAudio } from './webaudio.js';\nimport { Util } from '../util.js';\nimport { Sequence } from './sequence.js';\n\nfunction SequenceSet() {\n\tthis.sequences = [];\n\tthis.activeSequenceIndex = undefined;\n\tthis.activeSequenceId = undefined;\n\tthis.id = Util.randId();\n\tthis.subscribe();\n}\n\nSequenceSet.prototype.constructor = SequenceSet;\n\nSequenceSet.prototype.subscribe = function() {\n\tlet topicNextSequence = eventBus.topicMap.endOfSequence;\n\teventBus.subscribe(topicNextSequence, this.nextSequence.bind(this), this.id);\n}\n\nSequenceSet.prototype.cancelLoop = function() {\n\tif (this.sequences.length === 0) return;\n\tthis.sequences[this.activeSequenceIndex].shouldLoop = false;\n}\n\nSequenceSet.prototype.loop = function() {\n\tif (this.sequences.length === 0) return;\n\tlet currentSequence = this.sequences[this.activeSequenceIndex];\n\tthis.activeSequenceId = currentSequence.id;\n\tcurrentSequence.loop();\n}\n\nSequenceSet.prototype.nextSequence = function() {\n\tif (this.activeSequenceIndex === this.sequences.length-1) {\n\t\tthis.activeSequenceIndex = 0;\n\t} else {\n\t\tthis.activeSequenceIndex++;\n\t}\n\tthis.loop();\n}\n\nSequenceSet.prototype.createSequence = function(filename) {\n\tlet sequence = new Sequence(this, filename),\n\t\tsetId = this.id;\n\tthis.sequences.push(sequence);\n\tif (this.sequences.length === 1) {\n\t\tthis.activeSequenceIndex = 0;\n\t\tthis.activeSequenceId = sequence.id;\n\t}\n\teventBus.publish(eventBus.topicMap.newSequenceCreated, {\n\t\tsequenceId: sequence.id,\n\t\tsequenceSetId: setId\n\t});\n}\n\nexport { SequenceSet };\n\n\n// WEBPACK FOOTER //\n// ./src/audio/sequenceset.js","import { eventBus } from '../eventbus.js';\nimport { SequenceSet } from './sequenceset.js';\n\nfunction SequenceSets() {\n\tthis.sequenceSets = [];\n}\n\nSequenceSets.prototype.constructor = SequenceSets;\n\nSequenceSets.prototype.createSet = function(filename) {\n\tlet set = new SequenceSet(filename),\n\t\tnewSequenceSetTopicName = eventBus.topicMap.newSequenceSetCreated;\n\teventBus.publish(newSequenceSetTopicName, {sequenceSetId: set.id});\n\tthis.sequenceSets.push(set);\n\treturn set;\n}\n\nSequenceSets.prototype.loop = function() {\n\tfor (let i=0; i<this.sequenceSets.length; i++) {\n\t\tthis.sequenceSets[i].loop();\n\t}\n}\n\nSequenceSets.prototype.cancelLoop = function() {\n\tfor (let i=0; i<this.sequenceSets.length; i++) {\n\t\tthis.sequenceSets[i].cancelLoop();\n\t}\n}\n\nexport { SequenceSets };\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/audio/sequencesets.js","import { Vertices, Point } from './vertices.js';\nimport { Shape, Line, Circle } from './shape.js';\nimport { Util } from '../util.js';\n\nfunction Detector(vertices) {\n\tthis.vertices = vertices;\n\tthis.criteria = {\n\t\trectangle: {\n\t\t\taxisRatioThreshold: .5\n\t\t},\n\t\tcircle: {\n\t\t\tglobalThreshold: .5\n\t\t},\n\t\ttriangle: {\n\t\t\tglobalThreshold: 10\n\t\t},\n\t\tline: {\n\t\t\tdistanceThreshold: .4,\n\t\t\tperpDistanceThreshold: .05\n\t\t},\n\t\trandom: {\n\t\t\tglobalThreshold: .5\n\t\t}\n\t}\n\tthis.estimatedVertices = {\n\t\trectangle: [],\n\t\tcircle: [],\n\t\ttriangle: [],\n\t\tline: []\n\t}\n\tthis.identity = undefined;\n}\n\nDetector.prototype.constructor = Detector;\n\n/*\n\tUPDATE ESTIMATED VERTICES\n*/\n\nDetector.prototype.updateEstimatedVertices = function() {\n\tthis.estimatedVertices.rectangle = this.getEstimatedRectVertices();\n\tthis.estimatedVertices.triangle = this.getEstimatedTriangleVertices();\n\tthis.estimatedVertices.circle = this.getEstimatedCircleVertices();\n\tthis.estimatedVertices.line = this.getEstimatedLineVertices();\n}\n\n/*\n\tESTIMATE VERTICES\n*/\n\n\nDetector.prototype.getEstimatedTriangleVertices = function() {\n\tvar verts = this.vertices.hull,\n\t\tpoints = verts.points,\n\t\tinds = [];\n\tfor (var i=0; i<points.length; i++) inds.push(i);\n\tvar area = -Infinity,\n\t\tlargestSet;\n\tinds = Util.combs(inds, 3);\n\tfor (var i=0; i<inds.length; i++) {\n\t\tvar set = inds[i],\n\t\t\tA = points[set[0]],\n\t\t\tB = points[set[1]],\n\t\t\tC = points[set[2]],\n\t\t\ttri = [A, B, C],\n\t\t\tcurrentArea = Math.abs(verts.getArea(tri));\n\t\tif (currentArea > area) {\n\t\t\tlargestSet = [A, B, C];\n\t\t\tarea = currentArea;\n\t\t}\n\t}\n\treturn largestSet\n}\n\nDetector.prototype.getEstimatedRectVertices = function() {\n\n\tvar verts = \t\tthis.vertices.hull,\n\t\tpoints = \t\tverts.points,\n\t\tcentroid = \t\tverts.centroid,\n\t\ttopLeftPts = \tpoints.filter(topLeftFunc),\n\t\ttopRightPts = \tpoints.filter(topRightFunc),\n\t\tbtmLeftPts = \tpoints.filter(btmLeftFunc),\n\t\tbtmRightPts = \tpoints.filter(btmRightFunc),\n\t\tnTopLeft = \t\ttopLeftPts.length,\n\t\tnTopRight = \ttopRightPts.length,\n\t\tnBtmLeft = \t\tbtmLeftPts.length,\n\t\tnBtmRight = \tbtmRightPts.length;\n\n\tif (nTopLeft === 0 || nTopRight === 0 \n\t\t|| nBtmLeft === 0 || nBtmRight === 0) {\n\t\treturn [];\n\t}\n\n\tvar topLeftDistances = \tverts.getDistances(centroid, topLeftPts),\n\t\ttopRightDistances = verts.getDistances(centroid, topRightPts),\n\t\tbtmLeftDistances = \tverts.getDistances(centroid, btmLeftPts),\n\t\tbtmRightDistances = verts.getDistances(centroid, btmRightPts);\n\n\tvar topLeftInd = \tUtil.findMax(topLeftDistances),\n\t\ttopRightInd = \tUtil.findMax(topRightDistances),\n\t\tbtmLeftInd = \tUtil.findMax(btmLeftDistances),\n\t\tbtmRightInd = \tUtil.findMax(btmRightDistances);\n\n\tvar topLeftPt = \ttopLeftPts[topLeftInd],\n\t\ttopRightPt = \ttopRightPts[topRightInd],\n\t\tbtmLeftPt = \tbtmLeftPts[btmLeftInd],\n\t\tbtmRightPt = \tbtmRightPts[btmRightInd];\n\n\treturn [topLeftPt, topRightPt, btmLeftPt, btmRightPt];\n\n\tfunction topLeftFunc(pt) { return pt.x < centroid.x && pt.y > centroid.y; }\n\tfunction topRightFunc(pt) { return pt.x > centroid.x && pt.y > centroid.y; }\n\tfunction btmLeftFunc(pt) { return pt.x < centroid.x && pt.y < centroid.y; }\n\tfunction btmRightFunc(pt) { return pt.x > centroid.x && pt.y < centroid.y; }\n}\n\nDetector.prototype.getEstimatedCircleVertices = function() {\n\tvar verts = this.vertices,\n\t\tpoints = verts.hull.points,\n\t\tcentroid = verts.hull.centroid,\n\t\tdistances = verts.getDistances(centroid, points),\n\t\tsummed = Util.sum(distances),\n\t\tN = distances.length,\n\t\tmean = summed/N;\n\n\tvar radius = new Point(centroid.x, centroid.y+mean, 0);\n\n\treturn [centroid, radius];\n}\n\nDetector.prototype.getEstimatedLineVertices = function() {\n\tvar N = this.vertices.points.length;\n\treturn [this.vertices.points[0], this.vertices.points[N-1]];\n}\n\n/*\n\tASSESS SHAPE LIKELIHOOD\n*/\n\nDetector.prototype.getLikelihoodRect = function() {\n\tvar rectVertices = this.estimatedVertices.rectangle;\n\n\tif (rectVertices.length === 0) return 0;\n\n\tvar hull = \t\t\tthis.vertices.hull,\n\t\ttopLeftPt = \trectVertices[0],\n\t\ttopRightPt = \trectVertices[1],\n\t\tbtmLeftPt = \trectVertices[2],\n\t\tbtmRightPt = \trectVertices[3],\n\t\tcentroid = \t\thull.centroid;\n\n\tvar axis1Ratio = getSlopeRatio(topLeftPt, btmRightPt, centroid),\n\t\taxis2Ratio = getSlopeRatio(btmLeftPt, topRightPt, centroid),\n\t\tthreshold = this.criteria.rectangle.axisRatioThreshold;\n\n\treturn Math.max(axis1Ratio, axis2Ratio);\n\n\tfunction getSlopeRatio(p0, p1, centroid) {\n\t\tvar slopeA = hull.getSlope(p0, centroid),\n\t\t\tslopeB = hull.getSlope(p1, centroid),\n\t\t\tslopeAB = hull.getSlope(p0, p1),\n\t\t\tratio = (slopeA/slopeAB) * (slopeB/slopeAB);\n\t\treturn ratio;\n\t}\n}\n\nDetector.prototype.getLikelihoodCircle = function() {\n\tvar verts = this.vertices,\n\t\thull = verts.hull,\n\t\tvertPoints = verts.points,\n\t\thullPoints = hull.points,\n\t\tnSamples = vertPoints.length,\n\t\tnHull = hullPoints.length,\n\t\tnRatio = nHull / nSamples,\n\t\trealArea = verts.area,\n\t\thullArea = hull.area,\n\t\tareaRatio = realArea / hullArea,\n\t\tperimEfficiency = verts.perimeterEfficiency,\n\t\tconfidence = perimEfficiency * nRatio * areaRatio;\n\n\treturn confidence;\n}\n\nDetector.prototype.getLikelihoodTriangle = function() {\n\tvar triangleVertices = this.estimatedVertices.triangle,\n\t\tarea = this.vertices.hull.area;\n\tif (triangleVertices === undefined) return Infinity;\n\treturn area / Math.abs(this.vertices.getArea(triangleVertices));\n}\n\nDetector.prototype.getLikelihoodLine = function() {\n\tvar verts = this.vertices,\n\t\tpoints = verts.points,\n\t\tpFirst = points[0],\n\t\tpLast = points[points.length-1],\n\t\tperpDistanceRatios = [],\n\t\tdistances = [],\n\t\tlastDistance = verts.getDistance(pFirst, pLast),\n\t\tpDistance;\n\tfor (var i=1; i<points.length-2; i++) {\n\t\tpDistance = verts.getPerpendicularDistance(points[i], pFirst, pLast);\n\t\tperpDistanceRatios.push(pDistance/lastDistance);\n\t}\n\tfor (var i=0; i<points.length-2; i++) {\n\t\tdistances.push(verts.getDistance(points[i], points[i+1]));\n\t}\n\tvar summed = Util.sum(distances),\n\t\tdistRatio = lastDistance / summed,\n\t\tmaxPerpRatio = Math.max(...perpDistanceRatios);\n\n\treturn {\n\t\tdistanceRatio: distRatio,\n\t\tperpDistanceRatio: maxPerpRatio\n\t}\n}\n\nDetector.prototype.getLikelihoodRandom = function() {\n\treturn this.vertices.perimeterEfficiency;\n}\n\n/*\n\tASSIGN SHAPE IDENTITY\n*/\n\nDetector.prototype.isRectangle = function() {\n\tvar estimate = this.getLikelihoodRect(),\n\t\tthresh = this.criteria.rectangle.axisRatioThreshold;\n\treturn Math.abs(estimate - 1) < thresh;\n}\n\nDetector.prototype.isCircle = function() {\n\tvar estimate = this.getLikelihoodCircle(),\n\t\tthresh = this.criteria.circle.globalThreshold;\n\treturn estimate > thresh;\n}\n\nDetector.prototype.isTriangle = function() {\n\tvar estimate = this.getLikelihoodTriangle(),\n\t\tthresh = this.criteria.triangle.globalThreshold;\n\treturn estimate < thresh;\n}\n\nDetector.prototype.isLine = function() {\n\tvar estimates = this.getLikelihoodLine(),\n\t\tdistanceRatio = estimates.distanceRatio,\n\t\tperpRatio = estimates.perpDistanceRatio,\n\t\tdistanceThresh = this.criteria.line.distanceThreshold,\n\t\tperpDistanceThresh = this.criteria.line.perpDistanceThreshold;\n\n\treturn distanceRatio-1 < distanceThresh && perpRatio < perpDistanceThresh;\n}\n\nDetector.prototype.isRandom = function() {\n\tvar estimate = this.getLikelihoodRandom(),\n\t\tthresh = this.criteria.random.globalThreshold;\n\n\treturn estimate < thresh;\n}\n\n/*\n\tMODIFY VERTICES\n*/\n\nDetector.prototype.getAdjustedRectVertices = function() {\n\tvar rectPoints = this.estimatedVertices.rectangle,\n\t\trectVerts = new Vertices(rectPoints),\n\t\tpoints = rectVerts._sortPointsByPolarAngle();\n\tpoints.unshift(rectVerts.anchorPoint);\n\trectVerts.points = points;\n\trectVerts.updateAllExceptHull();\n\tpoints.push(points[0]);\n\tvar distances = rectVerts.getConsecutiveDistances(points),\n\t\tL = Util.mean(distances),\n\t\tcentroid = rectVerts.centroid,\n\t\tmidPoint = new Point(L/2, L/2, 0),\n\t\tA = centroid.copy(),\n\t\tB = centroid.copy(),\n\t\tC = centroid.copy(),\n\t\tD = centroid.copy();\n\n\tA.minus(midPoint);\n\tB.x -= midPoint.x;\n\tB.y += midPoint.y;\n\tC.plus(midPoint);\n\tD.x += midPoint.x;\n\tD.y -= midPoint.y;\n\n\tvar recombinedVerts = new Vertices([A, B, C, D]);\n\trecombinedVerts.updateAll();\n\treturn recombinedVerts;\n}\n\nDetector.prototype.getAdjustedTriangleVertices = function() {\n\tvar verts = this.vertices,\n\t\ttriPoints = this.estimatedVertices.triangle,\n\t\tcentroid = verts.hull.centroid,\n\t\tdistances = verts.getDistances(centroid, triPoints),\n\t\tmeanDist = Util.mean(distances) * .9,\n\t\tnewVerts = [];\n\n\tfor (var i=0; i<3; i++) {\n\t\tvar center = centroid.copy();\n\t\tif (i === 0) {\n\t\t\tcenter.y -= meanDist;\n\t\t} else if (i === 1) {\n\t\t\tcenter.y += meanDist;\n\t\t\tcenter.x -= meanDist;\n\t\t} else {\n\t\t\tcenter.y += meanDist;\n\t\t\tcenter.x += meanDist;\n\t\t}\n\t\tnewVerts.push(center);\n\t}\n\tvar vertices = new Vertices(newVerts);\n\tvertices.updateAll();\n\treturn vertices;\n}\n\n/*\n\tGET DETECTED SHAPE\n*/\n\nDetector.prototype.getLine = function() {\n\treturn new Line(this.vertices);\n}\n\nDetector.prototype.getRectangle = function() {\n\tvar verts = this.getAdjustedRectVertices();\n\treturn new Shape(verts, 'rectangle');\n}\n\nDetector.prototype.getTriangle = function() {\n\tvar verts = this.getAdjustedTriangleVertices();\n\treturn new Shape(verts, 'triangle');\n}\n\nDetector.prototype.getCircle = function() {\n\tvar verts = this.vertices,\n\t\testimatedVertices = this.estimatedVertices.circle,\n\t\tcenter = estimatedVertices[0],\n\t\tradius = estimatedVertices[1].y - center.y;\n\treturn new Circle(verts, center, radius);\n}\n\nDetector.prototype.getRandom = function() {\n\treturn new Shape(this.vertices, 'random');\n}\n\nDetector.prototype.getDetectedShape = function() {\n\tswitch (this.identity) {\n\t\tcase 'line':\n\t\t\treturn this.getLine();\n\t\tcase 'rectangle':\n\t\t\treturn this.getRectangle();\n\t\tcase 'circle':\n\t\t\treturn this.getCircle();\n\t\tcase 'triangle':\n\t\t\treturn this.getTriangle();\n\t\tcase 'random':\n\t\t\treturn this.getRandom();\n\t\tdefault:\n\t\t\treturn this.getRandom();\n\t}\n}\n\n/*\n\tIDENTIFY\n*/\n\nDetector.prototype.identify = function() {\n\tvar isRectangle = this.isRectangle(),\n\t\tisCircle = this.isCircle(),\n\t\tisTriangle = this.isTriangle(),\n\t\tisLine = this.isLine(),\n\t\tisRandom = this.isRandom(),\n\t\tidentity;\n\n\tif (isLine) {\n\t\tidentity = 'line';\n\t} else if (isRandom) {\n\t\tidentity = 'random';\n\t} else if (isCircle) {\n\t\tidentity = 'circle';\n\t} else if (isRectangle) {\n\t\tidentity = 'rectangle';\n\t} else if (isTriangle) {\n\t\tidentity = 'triangle';\n\t} else {\n\t\tidentity = undefined;\n\t}\n\n\tthis.identity = identity;\n}\n\nexport { Detector };\n\n\n\n// WEBPACK FOOTER //\n// ./src/geometry/detector.js","import { Util } from './util.js';\nimport { Detector } from './geometry/detector.js';\nimport { Shape, Line, Circle } from './geometry/shape.js';\nimport { Vertices, Point } from './geometry/vertices.js';\nimport { eventBus } from './eventbus.js';\nimport interact from 'interact.js';\n\nfunction Interaction(world, animator) {\n\tthis.world = world;\n\tthis.animator = animator;\n}\n\nInteraction.prototype.constructor = Interaction;\n\nInteraction.prototype.handleTouch = function() {\n\n\tlet self = this,\t\n\t\tposition,\n\t\tstroke = [],\n\t\tshouldContinue = true,\n\t\tshape,\n\t\tvertex,\n\t\tanimator = this.animator,\n\t\telement = animator.canvas,\n\t\tsequenceIdCurrent,\n\t\tsequenceIdOnDown,\n\t\tbounds = animator.style.editedVertices.size;\n\n\tanimator.isRecording = false;\n\n\tinteract(element)\n\t\t.on('down', down)\n\t\t.on('up', up)\n\t\t.on('move', move);\n\n\tfunction move(e) {\n\t\tposition = {x: e.clientX, y: e.clientY};\n\t}\n\tfunction down(e) {\n\t\tshouldContinue = true;\n\t\tshape = self.world.getEditedShape();\n\t\tsequenceIdOnDown = self.world.editedSequenceId;\n\t\tsequenceIdCurrent = sequenceIdOnDown;\n\t\t//\twe're making a new shape\n\t\tif (shape === undefined) {\n\t\t\tanimator.isRecording = true;\n\t\t\trequestAnimationFrame(record);\n\t\t\treturn;\n\t\t}\n\t\tlet nearbyVertices = shape.getVerticesNear(position, bounds),\n\t\t\tisNearCenter = shape.isNearCenter(position, bounds);\n\t\tif (nearbyVertices.length === 0 && !isNearCenter) {\n\t\t\tself.publishNewShape(undefined);\n\t\t\tanimator.isRecording = true;\n\t\t\trequestAnimationFrame(record);\n\t\t\treturn;\n\t\t}\n\t\tanimator.isRecording = false;\n\t\tif (nearbyVertices.length > 0) {\n\t\t\tvertex = nearbyVertices[0];\n\t\t\trequestAnimationFrame(modifyVertex);\n\t\t} else {\n\t\t\trequestAnimationFrame(modifyCenter);\n\t\t}\n\t}\n\tfunction updateCurrentSequenceId() {\n\t\tsequenceIdCurrent = self.world.editedSequenceId;\n\t}\n\tfunction up() {\n\t\tshouldContinue = false;\n\t\tupdateCurrentSequenceId();\n\t\tif (!animator.isRecording) return;\n\t\tif (sequenceIdCurrent !== sequenceIdOnDown) return;\n\t\tanimator.isRecording = false;\n\t\tself.handleNewStroke(stroke);\n\t\tstroke = [];\n\t\tanimator.stroke = [];\n\t}\n\tfunction record() {\n\t\tupdateCurrentSequenceId();\n\t\tif (!shouldContinue) return;\n\t\tif (sequenceIdCurrent !== sequenceIdOnDown) return;\n\t\tstroke.push(position);\n\t\tanimator.stroke = stroke;\n\t\trequestAnimationFrame(record);\n\t}\n\tfunction modifyVertex() {\n\t\tupdateCurrentSequenceId();\n\t\tif (!shouldContinue) return;\n\t\tif (sequenceIdCurrent !== sequenceIdOnDown) return;\n\t\tvertex.x = Math.round(position.x);\n\t\tvertex.y = Math.round(position.y);\n\t\tshape.update();\t\t\t\n\t\trequestAnimationFrame(modifyVertex);\n\t}\n\tfunction modifyCenter() {\n\t\tupdateCurrentSequenceId();\n\t\tif (!shouldContinue) return;\n\t\tif (sequenceIdCurrent !== sequenceIdOnDown) return;\n\t\tvar pt = new Point(position.x, position.y, 0);\n\t\tshape.centerOn(pt);\n\t\tshape.update();\n\t\trequestAnimationFrame(modifyCenter);\n\t}\n}\n\nInteraction.prototype.publishNewShape = function(shape) {\n\tlet sequenceId = this.world.editedSequenceId,\n\t\tsequenceSetId = this.world.activeSequenceSetId,\n\t\tnewShapeTopic = eventBus.topicMap.newShapeReady;\n\teventBus.publish(newShapeTopic, {shape, sequenceId, sequenceSetId});\n}\n\nInteraction.prototype.handleNewStroke = function(stroke) {\n\tstroke = Util.unique(Util.resample(stroke, 256));\n\tlet verts = new Vertices(stroke);\n\tverts.updateAll();\n\tlet detector = new Detector(verts);\n\tdetector.updateEstimatedVertices();\n\tdetector.identify();\n\tlet shape = detector.getDetectedShape();\n\tthis.publishNewShape(shape);\n\t// \tsequenceId = this.world.editedSequenceId,\n\t// \tsequenceSetId = this.world.activeSequenceSetId,\n\t// \tnewShapeTopic = eventBus.topicMap.newShapeReady;\n\t// eventBus.publish(newShapeTopic, {shape, sequenceId, sequenceSetId});\n}\n\nexport { Interaction };\n\n\n// WEBPACK FOOTER //\n// ./src/interaction.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport '../../playground/circle_detect/stroke_record3.js'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { eventBus } from './eventbus.js';\n\nfunction World() {\n\tthis.shapes = [];\n\tthis.subscribe();\n\tthis.editedSequenceId = undefined;\n\tthis.activeSequenceIds = [];\n\tthis.activeSequenceSetId = undefined;\n}\n\nWorld.prototype.constructor = World;\n\nWorld.prototype.subscribe = function() {\n\tlet newShapeReadyTopic = eventBus.topicMap.newShapeReady,\n\t\tnewSequenceSetCreatedTopic = eventBus.topicMap.newSequenceSetCreated,\n\t\tnewSequenceCreatedTopic = eventBus.topicMap.newSequenceCreated,\n\t\tnewActiveSequenceTopic = eventBus.topicMap.newActiveSequence,\n\t\tnewActiveSequenceSetTopic = eventBus.topicMap.newActiveSequenceSet;\n\n\teventBus.subscribe(newSequenceSetCreatedTopic, this.registerSequenceSet.bind(this));\n\teventBus.subscribe(newSequenceCreatedTopic, this.registerSequence.bind(this));\n\teventBus.subscribe(newShapeReadyTopic, this.registerShape.bind(this));\n\teventBus.subscribe(newActiveSequenceTopic, this.updateActiveSequence.bind(this));\n\teventBus.subscribe(newActiveSequenceSetTopic, this.updateActiveSequenceSet.bind(this));\n}\n\nWorld.prototype.updateEditedSequence = function() {\n\tlet index = this.findActiveSequenceIdBySequenceSetId(this.activeSequenceSetId);\n\tthis.editedSequenceId = this.activeSequenceIds[index].sequenceId;\n}\n\nWorld.prototype.updateActiveSequence = function(data) {\n\tlet sequenceSetId = data.sequenceSetId,\n\t\tsetId = data.sequenceId,\n\t\tindex = this.findActiveSequenceIdBySequenceSetId(sequenceSetId);\n\tthis.activeSequenceIds[index].sequenceId = setId;\n\tthis.updateEditedSequence();\n}\n\nWorld.prototype.updateActiveSequenceSet = function(data) {\n\tthis.activeSequenceSetId = data.sequenceSetId;\n\tthis.updateEditedSequence();\n}\n\nWorld.prototype.registerSequenceSet = function(data) {\n\tthis.activeSequenceIds.push({\n\t\tsequenceSetId: data.sequenceSetId,\n\t\tsequenceId: undefined\n\t});\n}\n\nWorld.prototype.registerSequence = function(data) {\n\tdata.shape = undefined;\n\tthis.registerShape(data);\n}\n\nWorld.prototype.registerShape = function(data) {\n\tlet shape = data.shape,\n\t\tsequenceId = data.sequenceId,\n\t\tsequenceSetId = data.sequenceSetId;\n\tif (this.isShapeWithSequenceId(sequenceId)) {\n\t\tvar ind = this.findShapeBySequenceId(sequenceId);\n\t\tthis.shapes[ind].shape = shape;\n\t} else {\n\t\tthis.shapes.push({\n\t\t\tshape,\n\t\t\tsequenceId,\n\t\t\tsequenceSetId\n\t\t});\n\t}\n}\n\nWorld.prototype.findActiveSequenceIdBySequenceSetId = function(id) {\n\tfor (let i=0; i<this.activeSequenceIds.length; i++) {\n\t\tif (this.activeSequenceIds[i].sequenceSetId === id) return i;\n\t}\n\treturn -1;\n}\n\nWorld.prototype.getShapesBySequenceSetId = function(id) {\n\treturn this.shapes.filter(function(shape) {\n\t\treturn shape.sequenceSetId === id;\n\t}).shape;\n}\n\nWorld.prototype.getShapeBySequenceId = function(id) {\n\tvar ind = this.findShapeBySequenceId(id);\n\tif (ind === -1) return undefined;\n\treturn this.shapes[ind].shape;\n}\n\nWorld.prototype.getEditedShape = function() {\n\treturn this.getShapeBySequenceId(this.editedSequenceId);\n}\n\nWorld.prototype.findShapeBySequenceId = function(id) {\n\tfor (var i=0; i<this.shapes.length; i++) {\n\t\tif (this.shapes[i].sequenceId === id) return i;\n\t}\n\treturn -1;\n}\n\nWorld.prototype.isShapeWithSequenceId = function(id) {\n\treturn this.findShapeBySequenceId(id) !== -1;\n}\n\nconst world = new World();\n\nexport { world };\n\n\n// WEBPACK FOOTER //\n// ./src/world.js","import { Util } from '../util.js';\n\n/*\n\tconstructor\n*/\n\nfunction WebAudio(properties) {\n\tthis.bpm = properties.bpm;\n\n\tthis.interval = 60 / this.bpm;\n\n\tthis.currentBeat = 1;\n\n\t//\tinitialize the AudioContext, or return -1\n\t//\tif initialization fails\n\n\tthis.context = this.initContext();\n\n\t//\tarray of buffer objects with <buffer> and <filename>\n\t//\tproperties\n\n\tthis.buffers = [];\n\tthis.filenames = properties.filenames;\n\n\t//\tdefine default playing properties\n\n\tthis.defaultPlayProperties = {\n\t\taudible: true,\n\t\tpitch: { min: 0, max: 0 }\n\t}\n\n\t//\tmake sure the object was instantiated correctly\n\n\tthis.validate();\n\n\t//\tfor proper safari playback\n\n\tthis.playedDummySound = false;\n}\n\n\n/*\n\tprototype\n*/\n\n\nWebAudio.prototype.constructor = WebAudio;\n\n//\tinitialize the audio context, or return -1 if init fails\n\nWebAudio.prototype.initContext = function() {\n\tlet audioContext = window.AudioContext || window.webkitAudioContext || -1;\n\tif ( audioContext === -1 ) return audioContext;\n\treturn new audioContext();\n}\n\n//\tmake sure we can properly instantiate a new WebAudio\n\nWebAudio.prototype.validate = function() {\n\t//\tmake sure we have window.requestAnimationFrame\n\tif ( typeof window.requestAnimationFrame == 'undefined' ) {\n\t\tthrow new Error('requestAnimationFrame is not supported in this browser');\n\t}\n\t//\tmake sure the audio context is valid\n\tif (this.context === -1) {\n\t\tthrow new Error('Web audio is not supported in this browser');\n\t}\n}\n\nWebAudio.prototype.loadTestSounds = function() {\n\tlet filenames = this.filenames, \n\t\tthat = this,\n\t\tbuffers = this.buffers\n\tfilenames.map( (name) => {\n\t\tlet fullfile = `https://dl.dropboxusercontent.com/s/mt0s5oj4tx1lre2/${name}`,\n\t\t\trequest = new XMLHttpRequest()\n\t\trequest.open('GET', fullfile, true);\n\t\trequest.responseType = 'arraybuffer';\n\t\trequest.onload = function() {\n\t\t\tthat.context.decodeAudioData(request.response, (buffer) => {\n\t\t\t\tbuffers.push({\n\t\t\t\t\tfilename: name,\n\t\t\t\t\tbuffer: buffer\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\trequest.send()\n\t})\n}\n\nWebAudio.prototype.loadSound = function(filename) {\n\n\t//\treturn a promise to load the given <filename>\n\n\tlet that = this;\n\n\treturn new Promise( (resolve, reject) => {\n\t\tlet request = new XMLHttpRequest(),\n\t\t\tfullfile = '/sounds/' + filename;\n\n\t\trequest.open('GET', fullfile);\n\t\trequest.responseType = 'arraybuffer';\n\n\t\trequest.onload = function() {\n\t\t\tthat.context.decodeAudioData(request.response, (buffer) => {\n\t\t\t\tresolve(buffer);\n\t\t\t})\n\t\t}\n\n\t\trequest.onerror = (err) => {\n\t\t\treject(err);\n\t\t}\n\n\t\trequest.send();\n\t});\n}\n\nWebAudio.prototype.loadSounds = function() {\n\n\t//\tgiven the array of stored filenames in <this>,\n\t//\tresolve each promise to load the corresponding buffer, and\n\t//\tpush each buffer to the <buffers> array in <this>\n\n\tlet promises = [],\n\t\tbuffers = this.buffers,\n\t\tfilenames = this.filenames,\n\t\tthat = this;\n\n\tfilenames.map( (file) => {\n\t\tpromises.push( that.loadSound(file) );\n\t});\n\n\tlet promise = Promise.all(promises)\n\t\t.then( (sounds) => {\n\t\t\tfor (let i=0; i<sounds.length; i++) {\n\t\t\t\tbuffers.push({\n\t\t\t\t\tfilename: filenames[i],\n\t\t\t\t\tbuffer: sounds[i]\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\t.catch( (err) => {\n\t\t\tconsole.log('An error occurred while loading sounds');\n\t\t});\n\n\treturn promise;\n}\n\n//\tfrom the array of buffer objects in this.buffers,\n//\treturn the buffer that matches <filename>\n\nWebAudio.prototype.getBufferByFilename = function(filename) {\n\tlet oneBuffer = this.buffers.filter( (buffer) => buffer.filename === filename );\n\tif (oneBuffer.length === 0) return -1;\n\tif (oneBuffer.length > 1) {\n\t\tthrow new Error('More than one buffer found for' + filename);\n\t}\n\treturn oneBuffer[0].buffer;\n}\n\nWebAudio.prototype.getCurrentBeat = function() {\n\tlet totalElapsedTime = this.context.currentTime,\n\t\tinterval = this.interval;\n\treturn Math.floor(totalElapsedTime / interval);\n}\n\n//\tschedule the playing of N number of notes, where N corresponds\n//\tto the note length specified in <props.noteLength>\n\nWebAudio.prototype.schedulePlay = function(filename, props) {\n\tlet interval = this.interval,\n\t\tcurrentBeat = this.getCurrentBeat(),\n\t\tnoteLength = props.noteLength,\n\t\tscheduledTime,\n\t\tbeatsToSchedule,\n\t\tduration,\n\t\tscheduledTimes = [];\n\n\tswitch (noteLength) {\n\t\tcase 'quarter':\n\t\t\tbeatsToSchedule = 1;\n\t\t\tbreak;\n\t\tcase 'eighth':\n\t\t\tbeatsToSchedule = 2;\n\t\t\tbreak;\n\t\tcase 'eighthTriplet':\n\t\t\tbeatsToSchedule = 3;\n\t\t\tbreak;\n\t\tcase 'sixteenth':\n\t\t\tbeatsToSchedule = 4;\n\t\t\tbreak;\n\t\tcase 'sixteenthTriplet':\n\t\t\tbeatsToSchedule = 6;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Unrecognized noteLength ${noteLength}`);\n\t}\n\n\t//\tfirst scheduled time\n\n\tscheduledTime = (currentBeat * interval) + interval/beatsToSchedule;\n\n\t//\tnote length\n\n\tduration = interval/beatsToSchedule;\n\n\t//\tupdate the current beat\n\n\tthis.currentBeat = currentBeat;\n\n\tprops.sequence.sources = [];\n\n\tfor (let i=0; i<beatsToSchedule; i++) {\n\t\tlet playTime = scheduledTime + (interval/beatsToSchedule) * i,\n\t\t\tplayProps = Object.assign(props, {when: playTime});\n\n\t\t//\tplay each note at time <playTime>\n\n\t\tthis.play(filename, playProps);\n\n\t\t//\tfor output\n\n\t\tscheduledTimes.push(playTime);\n\t}\n\n\treturn {noteTimes: scheduledTimes, noteDuration: duration};\n}\n\nWebAudio.prototype.play = function(filename, props) {\n\tlet source = this.context.createBufferSource(),\n\t\tbuffer = this.getBufferByFilename(filename),\n\t\tdefaultPlayProperties = this.defaultPlayProperties,\n\t\twhen = props.when || 0;\n\n\tif ( buffer === -1 ) throw new Error(`Could not find ${filename}`);\n\n\tprops = Object.assign({}, defaultPlayProperties, props);\n\n\tprops.sequence.sources.push(source);\n\n\t//\tif this set of beats is set to be silent, return\n\n\tif (!props.audible) return;\n\n\tsource.buffer = buffer;\n\tsource.connect(this.context.destination);\n\tsource.start(when);\n}\n\nWebAudio.prototype.playDummySound = function() {\n\tif ( this.playedDummySound ) return;\n\n\tlet buffer = this.context.createBuffer(1, 22050, 44100),\n\t\tsource = this.context.createBufferSource();\n\n\tsource.buffer = buffer;\n\tsource.connect(this.context.destination);\n\tsource.start(0);\n\n\tthis.playedDummySound = true\n}\n\n\n/*\n\tinstantiate\n*/\n\nconst webAudio = new WebAudio({\n\tbpm: 85, filenames: ['downychirp.wav']\n});\nwebAudio.loadTestSounds();\nwebAudio.playDummySound();\n\n// const webAudio = new WebAudio({\n// \tbpm: 85, filenames: ['808_hi.mp3', 'perc_kick.mp3', 'piano_g.mp3', 'celeste_g.mp3']\n// })\n\nexport { webAudio }\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/audio/webaudio.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2d560100\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Hello.vue\n// module id = 94\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-bd26cd6c\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 95\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d560100\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Hello.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Hello.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d560100\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Hello.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2d560100\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Hello.vue\n// module id = 97\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"hello\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.msg))]), _vm._v(\" \"), _c('h2', [_vm._v(\"Essential Links\")]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _c('h2', [_vm._v(\"Ecosystem\")]), _vm._v(\" \"), _vm._m(1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://vuejs.org\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"Core Docs\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://forum.vuejs.org\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"Forum\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://gitter.im/vuejs/vue\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"Gitter Chat\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://twitter.com/vuejs\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"Twitter\")])]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://vuejs-templates.github.io/webpack/\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"Docs for This Template\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://router.vuejs.org/\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"vue-router\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://vuex.vuejs.org/\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"vuex\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"http://vue-loader.vuejs.org/\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"vue-loader\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"https://github.com/vuejs/awesome-vue\",\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(\"awesome-vue\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d560100\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Hello.vue\n// module id = 98\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd26cd6c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 99\n// module chunks = 1"],"sourceRoot":""}